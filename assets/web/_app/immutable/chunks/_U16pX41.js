import{o as f}from"./BufZg4h2.js";const m=t=>{let e="";return t.ctrl&&(e+="Ctrl "),t.alt&&(e+="Alt "),t.meta&&(e+="Cmd "),t.shift&&(e+="⇧"),e+=t.key.toUpperCase(),e},p=t=>{if(t.target===t.currentTarget)return!1;const e=t.target.type;return["textarea","text","date","datetime-local","email","password"].includes(e)},d=(t,e)=>e.key.toLowerCase()===t.key.toLowerCase()&&!!e.alt===t.altKey&&!!e.ctrl===t.ctrlKey&&!!e.shift===t.shiftKey&&!!e.meta===t.metaKey,n=globalThis.navigator&&/Mac(intosh|Intel)/.test(globalThis.navigator.userAgent),h={ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",ArrowUp:"↑",Delete:"⌦"},w=({alt:t,meta:e,ctrl:a,shift:s,key:r})=>{const o=[];return t&&o.push(n?"⌥":"Alt"),e&&o.push(n?"⌘":"❖"),a&&o.push("Ctrl"),s&&o.push("⇧"),o.push(h[r]??r.toUpperCase()),o},A=(t,e)=>{const{update:a,destroy:s}=y(t,[e]);return{update(r){a?.([r])},destroy:s}},y=(t,e)=>{function a(r){if(r.defaultPrevented)return;const o=p(r);for(const{shortcut:l,onShortcut:i,ignoreInputFields:u=!0,preventDefault:c=!0}of e)if(!(u&&o)&&d(r,l)){c&&r.preventDefault(),i(r);return}}const s=f(t,"keydown",a);return{update(r){e=r},destroy(){s()}}};export{A as a,m as b,p as c,d as m,w as r,y as s};

import"./DsnmJJEf.js";import{p as oe,f as l,a as ae,g as t,u as v,c as z,b as ve,r as F,s as Me,n as Je,t as ye}from"./BOqQhZBJ.js";import{p as xe,c as i,a as o,s as B,f as H,t as Le}from"./CnteGC4G.js";import{i as k}from"./QS5y7wlf.js";import{p as a,r as fe,b as Se,e as Q}from"./B227BkWK.js";import{cc as Oe,ch as ne,de as Ne,cd as p,h as D,aq as ue,df as Qe,dg as Ue,dh as Xe,di as Ye,dj as $e,dk as et,dl as tt,dm as Ee,n as ze,p as rt,dn as nt,cK as ot,i as Ke,cZ as _e,T as at,q as Re,u as Ve,G as st,H as lt,a as Be,db as it,af as dt,I as ct,l as ut}from"./LrV5ZTyj.js";import{s as vt}from"./BufZg4h2.js";import{e as Te}from"./D4fmOnVC.js";import{m as ft}from"./C20f7eOz.js";var gt=H("<div><!></div>");function qe(M,e){const h=xe();oe(e,!0);let f=a(e,"ref",15,null),_=a(e,"id",19,()=>Oe(h)),m=a(e,"disabled",3,!1),O=a(e,"onSelect",3,ne),y=a(e,"closeOnSelect",3,!0),u=fe(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const S=Ne.create({id:p(()=>_()),disabled:p(()=>m()),onSelect:p(()=>O()),ref:p(()=>f(),b=>f(b)),closeOnSelect:p(()=>y())}),g=v(()=>ue(u,S.props));var x=i(),r=l(x);{var d=b=>{var w=i(),W=l(w);B(W,()=>e.child,()=>({props:t(g)})),o(b,w)},A=b=>{var w=gt();D(w,()=>({...t(g)}));var W=z(w);B(W,()=>e.children??ve),F(w),o(b,w)};k(r,b=>{e.child?b(d):b(A,!1)})}o(M,x),ae()}var pt=H("<div><!></div>");function De(M,e){const h=xe();oe(e,!0);let f=a(e,"ref",15,null),_=a(e,"id",19,()=>Oe(h)),m=fe(e,["$$slots","$$events","$$legacy","ref","id","child","children"]);const O=Qe.create({id:p(()=>_()),ref:p(()=>f(),r=>f(r))}),y=v(()=>ue(m,O.props));var u=i(),S=l(u);{var g=r=>{var d=i(),A=l(d);B(A,()=>e.child,()=>({props:t(y)})),o(r,d)},x=r=>{var d=pt();D(d,()=>({...t(y)}));var A=z(d);B(A,()=>e.children??ve),F(d),o(r,d)};k(S,r=>{e.child?r(g):r(x,!1)})}o(M,u),ae()}function mt(M,e){oe(e,!0);let h=a(e,"open",15,!1),f=a(e,"dir",3,"ltr"),_=a(e,"onOpenChange",3,ne),m=a(e,"onOpenChangeComplete",3,ne),O=a(e,"_internal_variant",3,"dropdown-menu");const y=Ue.create({variant:p(()=>O()),dir:p(()=>f()),onClose:()=>{h(!1),_()(!1)}});Xe.create({open:p(()=>h(),u=>{h(u),_()(u)}),onOpenChangeComplete:p(()=>m())},y),Ye(M,{children:(u,S)=>{var g=i(),x=l(g);B(x,()=>e.children??ve),o(u,g)},$$slots:{default:!0}}),ae()}var ht=H("<div><div><!></div></div>"),_t=H("<div><div><!></div></div>");function bt(M,e){const h=xe();oe(e,!0);let f=a(e,"id",19,()=>Oe(h)),_=a(e,"ref",15,null),m=a(e,"loop",3,!0),O=a(e,"onInteractOutside",3,ne),y=a(e,"onEscapeKeydown",3,ne),u=a(e,"onCloseAutoFocus",3,ne),S=a(e,"forceMount",3,!1),g=a(e,"trapFocus",3,!1),x=fe(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount","trapFocus"]);const r=$e.create({id:p(()=>f()),loop:p(()=>m()),ref:p(()=>_(),n=>_(n)),onCloseAutoFocus:p(()=>u())}),d=v(()=>ue(x,r.props));function A(n){if(r.handleInteractOutside(n),!n.defaultPrevented&&(O()(n),!n.defaultPrevented)){if(n.target&&n.target instanceof Element){const U=`[${r.parentMenu.root.getBitsAttr("sub-content")}]`;if(n.target.closest(U))return}r.parentMenu.onClose()}}function b(n){y()(n),!n.defaultPrevented&&r.parentMenu.onClose()}var w=i(),W=l(w);{var T=n=>{et(n,Se(()=>t(d),()=>r.popperProps,{get ref(){return r.opts.ref},get enabled(){return r.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:b,get trapFocus(){return g()},get loop(){return m()},forceMount:!0,get id(){return f()},get shouldRender(){return r.shouldRender},popper:(X,j)=>{let se=()=>j?.().props,G=()=>j?.().wrapperProps;const Z=v(()=>ue(se(),{style:Ee("dropdown-menu")}));var Y=i(),$=l(Y);{var le=c=>{var s=i(),P=l(s);{let R=v(()=>({props:t(Z),wrapperProps:G(),...r.snippetProps}));B(P,()=>e.child,()=>t(R))}o(c,s)},ie=c=>{var s=ht();D(s,()=>({...G()}));var P=z(s);D(P,()=>({...t(Z)}));var R=z(P);B(R,()=>e.children??ve),F(P),F(s),o(c,s)};k($,c=>{e.child?c(le):c(ie,!1)})}o(X,Y)},$$slots:{popper:!0}}))},K=n=>{tt(n,Se(()=>t(d),()=>r.popperProps,{get ref(){return r.opts.ref},get open(){return r.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:b,get trapFocus(){return g()},get loop(){return m()},forceMount:!1,get id(){return f()},get shouldRender(){return r.shouldRender},popper:(X,j)=>{let se=()=>j?.().props,G=()=>j?.().wrapperProps;const Z=v(()=>ue(se(),{style:Ee("dropdown-menu")}));var Y=i(),$=l(Y);{var le=c=>{var s=i(),P=l(s);{let R=v(()=>({props:t(Z),wrapperProps:G(),...r.snippetProps}));B(P,()=>e.child,()=>t(R))}o(c,s)},ie=c=>{var s=_t();D(s,()=>({...G()}));var P=z(s);D(P,()=>({...t(Z)}));var R=z(P);B(R,()=>e.children??ve),F(P),F(s),o(c,s)};k($,c=>{e.child?c(le):c(ie,!1)})}o(X,Y)},$$slots:{popper:!0}}))};k(W,n=>{S()?n(T):S()||n(K,1)})}o(M,w),ae()}var wt=H("<div><!> <!></div>"),Pt=H("<div><!></div>"),Ct=H('<!> <div class="flex gap-1 px-1"></div>',1),Mt=H("<div><div><!> <!></div></div>");function yt(M,e){oe(e,!0);let h=a(e,"size",3,"medium"),f=a(e,"position",3,"top-left"),_=fe(e,["$$slots","$$events","$$legacy","onClose","items","bottomItems","size","target","position","class"]);const m=ze({base:"hover:bg-light-200 flex w-full items-center gap-1 rounded-lg p-1 text-start hover:cursor-pointer",variants:{color:rt.textColor}}),O=ze({base:"bg-light-100 dark:border-light-300 flex flex-col gap-1 overflow-hidden rounded-xl border py-1 shadow-sm",variants:{size:{tiny:"w-32",small:"w-48",medium:"w-3xs",large:"w-sm",giant:"w-lg",full:"w-full"}}}),y=T=>{switch(T){case"top-left":return{align:"start",side:"bottom"};case"top-right":return{align:"end",side:"bottom"};case"bottom-left":return{align:"start",side:"top"};case"bottom-right":return{align:"end",side:"top"};default:return{align:"start",side:"bottom"}}},u=T=>{if(!T)return[];const K=[];for(const n of T)if(n&&(_e(n)||it(n))){K.push(n);continue}for(let n=K.length-1;n>=0;n--){const U=K[n];if(_e(U)){K.pop();continue}break}return K},S=v(()=>u(e.items)),g=v(()=>u(e.bottomItems)),x=v(()=>e.target.clientWidth/2),r=v(()=>-e.target.clientHeight/2),d=v(()=>y(f())),A=v(()=>t(d).side),b=v(()=>t(d).align);var w=i(),W=l(w);Q(W,()=>mt,(T,K)=>{K(T,{open:!0,onOpenChange:()=>e.onClose(),children:(n,U)=>{var X=i(),j=l(X);Q(j,()=>nt,(se,G)=>{G(se,{children:(Z,Y)=>{var $=i(),le=l($);{const ie=(c,s)=>{let P=()=>s?.().wrapperProps,R=()=>s?.().props,He=()=>s?.().open;var Ie=i(),We=l(Ie);{var je=be=>{var ge=Mt();D(ge,()=>({...P(),class:ot.ContextMenu}));var pe=z(ge);D(pe,E=>({...R(),..._,class:E}),[()=>Ke(O({size:h()}),e.class)]);var Fe=z(pe);Te(Fe,19,()=>t(S),(E,C)=>_e(E)?C:E.title,(E,C)=>{var de=i(),me=l(de);{var J=q=>{var L=i(),N=l(L);Q(N,()=>De,(ee,ce)=>{ce(ee,{class:"dark:border-light-300 my-0.5 border-t"})}),o(q,L)},I=v(()=>_e(t(C))),he=q=>{var L=i(),N=l(L);Q(N,()=>qe,(ee,ce)=>{ce(ee,{get textValue(){return t(C).title},closeOnSelect:!0,onSelect:()=>t(C).onAction(t(C)),class:"px-1",children:(we,ke)=>{var te=wt(),Pe=z(te);{var re=V=>{Be(V,{get icon(){return t(C).icon},class:"m-2 shrink-0"})};k(Pe,V=>{t(C).icon&&V(re)})}var Ce=Me(Pe,2);at(Ce,{class:"grow text-start font-medium select-none",size:"medium",children:(V,Ot)=>{Je();var Ae=Le();ye(()=>vt(Ae,t(C).title)),o(V,Ae)},$$slots:{default:!0}}),F(te),ye(V=>Ve(te,1,V),[()=>Re(m({color:t(C).color}))]),o(we,te)},$$slots:{default:!0}})}),o(q,L)};k(me,q=>{t(I)?q(J):q(he,!1)})}o(E,de)});var Ge=Me(Fe,2);{var Ze=E=>{var C=Ct(),de=l(C);Q(de,()=>De,(J,I)=>{I(J,{class:"dark:border-light-300 my-0.5 border-t"})});var me=Me(de,2);Te(me,21,()=>t(g),J=>J.title,(J,I)=>{var he=i(),q=l(he);{var L=N=>{var ee=i(),ce=l(ee);Q(ce,()=>qe,(we,ke)=>{ke(we,{get textValue(){return t(I).title},closeOnSelect:!0,onSelect:()=>t(I).onAction(t(I)),get title(){return t(I).title},children:(te,Pe)=>{var re=Pt(),Ce=z(re);Be(Ce,{get icon(){return t(I).icon},class:"m-2 shrink-0"}),F(re),ye(V=>Ve(re,1,V),[()=>Re(Ke(m({color:t(I).color})))]),o(te,re)},$$slots:{default:!0}})}),o(N,ee)};k(q,N=>{t(I).icon&&N(L)})}o(J,he)}),F(me),o(E,C)};k(Ge,E=>{t(g).length>0&&E(Ze)})}F(pe),F(ge),st(3,pe,()=>lt),o(be,ge)};k(We,be=>{He()&&be(je)})}o(c,Ie)};Q(le,()=>bt,(c,s)=>{s(c,{forceMount:!0,get customAnchor(){return e.target},get side(){return t(A)},get align(){return t(b)},get alignOffset(){return t(x)},get sideOffset(){return t(r)},child:ie,$$slots:{child:!0}})})}o(Z,$)},$$slots:{default:!0}})}),o(n,X)},$$slots:{default:!0}})}),o(M,w),ae()}class St{show(e){return ft.show(yt,{...e})}}const xt=new St;function Bt(M,e){oe(e,!0);const h=a(e,"color",3,"secondary"),f=a(e,"position",3,"top-right"),_=a(e,"icon",3,dt),m=a(e,"variant",3,"ghost"),O=a(e,"shape",3,"round"),y=fe(e,["$$slots","$$events","$$legacy","color","position","icon","variant","shape","aria-label","items","bottomItems","translations"]),u=async r=>{await xt.show({target:r.currentTarget,position:f(),items:e.items,bottomItems:e.bottomItems})};var S=i(),g=l(S);{var x=r=>{{let d=v(()=>e["aria-label"]??ut("open_menu",e.translations));ct(r,Se({get icon(){return _()},get color(){return h()},get shape(){return O()},get variant(){return m()},get"aria-label"(){return t(d)}},()=>y,{onclick:u}))}};k(g,r=>{e.items.length>0&&r(x)})}o(M,S),ae()}export{Bt as C,xt as m};

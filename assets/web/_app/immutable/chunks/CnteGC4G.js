import{F as v,aa as b,I as h,au as M,av as T,aw as y,x as l,M as o,ax as F,C as N,ay as x,az as A,y as m,J as k,ai as g,aA as D,aB as _,aC as R,aD as E,aE as O,aF as $,w as P,E as S,al as B}from"./BOqQhZBJ.js";function p(a){var t=document.createElement("template");return t.innerHTML=a.replaceAll("<!>","<!---->"),t.content}function u(a,t){var e=b;e.nodes===null&&(e.nodes={start:a,end:t,a:null,t:null})}function z(a,t){var e=(t&T)!==0,r=(t&y)!==0,s,i=!a.startsWith("<!>");return()=>{if(l)return u(o,null),o;s===void 0&&(s=p(i?a:"<!>"+a),e||(s=h(s)));var n=r||M?document.importNode(s,!0):s.cloneNode(!0);if(e){var f=h(n),c=n.lastChild;u(f,c)}else u(n,n);return n}}function L(a,t,e="svg"){var r=!a.startsWith("<!>"),s=(t&T)!==0,i=`<${e}>${r?a:"<!>"+a}</${e}>`,n;return()=>{if(l)return u(o,null),o;if(!n){var f=p(i),c=h(f);if(s)for(n=document.createDocumentFragment();h(c);)n.appendChild(h(c));else n=h(c)}var d=n.cloneNode(!0);if(s){var w=h(d),C=d.lastChild;u(w,C)}else u(d,d);return d}}function G(a,t){return L(a,t,"svg")}function H(a=""){if(!l){var t=v(a+"");return u(t,t),t}var e=o;return e.nodeType!==F?(e.before(e=v()),N(e)):x(e),u(e,e),e}function J(){if(l)return u(o,null),o;var a=document.createDocumentFragment(),t=document.createComment(""),e=v();return a.append(t,e),u(t,e),a}function U(a,t){if(l){var e=b;((e.f&A)===0||e.nodes.end===null)&&(e.nodes.end=o),m();return}a!==null&&a.before(t)}function X(){if(l&&o&&o.nodeType===k&&o.textContent?.startsWith("$")){const a=o.textContent.substring(1);return m(),a}return(window.__svelte??={}).uid??=1,`c${window.__svelte.uid++}`}class W{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#r=!0;constructor(t,e=!0){this.anchor=t,this.#r=e}#n=()=>{var t=g;if(this.#t.has(t)){var e=this.#t.get(t),r=this.#s.get(e);if(r)D(r),this.#a.delete(e);else{var s=this.#e.get(e);s&&(this.#s.set(e,s.effect),this.#e.delete(e),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,n]of this.#t){if(this.#t.delete(i),i===t)break;const f=this.#e.get(n);f&&(_(f.effect),this.#e.delete(n))}for(const[i,n]of this.#s){if(i===e||this.#a.has(i))continue;const f=()=>{if(Array.from(this.#t.values()).includes(i)){var d=document.createDocumentFragment();O(n,d),d.append(v()),this.#e.set(i,{effect:n,fragment:d})}else _(n);this.#a.delete(i),this.#s.delete(i)};this.#r||!r?(this.#a.add(i),R(n,f,!1)):f()}}};#i=t=>{this.#t.delete(t);const e=Array.from(this.#t.values());for(const[r,s]of this.#e)e.includes(r)||(_(s.effect),this.#e.delete(r))};ensure(t,e){var r=g,s=$();if(e&&!this.#s.has(t)&&!this.#e.has(t))if(s){var i=document.createDocumentFragment(),n=v();i.append(n),this.#e.set(t,{effect:E(()=>e(n)),fragment:i})}else this.#s.set(t,E(()=>e(this.anchor)));if(this.#t.set(r,t),s){for(const[f,c]of this.#s)f===t?r.unskip_effect(c):r.skip_effect(c);for(const[f,c]of this.#e)f===t?r.unskip_effect(c.effect):r.skip_effect(c.effect);r.oncommit(this.#n),r.ondiscard(this.#i)}else l&&(this.anchor=o),this.#n()}}function j(a,t,...e){var r=new W(a);P(()=>{const s=t()??null;r.ensure(s,s&&(i=>s(i,...e)))},S)}function q(a){return(t,...e)=>{var r=a(...e),s;if(l)s=o,m();else{var i=r.render().trim(),n=p(i);s=h(n),t.before(s)}const f=r.setup?.(s);u(s,s),typeof f=="function"&&B(f)}}export{W as B,U as a,u as b,J as c,p as d,q as e,z as f,G as g,X as p,j as s,H as t};

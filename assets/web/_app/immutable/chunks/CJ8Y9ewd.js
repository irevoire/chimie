import"./DsnmJJEf.js";import{p as D,f as b,s as H,a as T,g as o,u as m,h as U,j as F}from"./BOqQhZBJ.js";import{f as E,a as k,c as V}from"./CnteGC4G.js";import{i as u}from"./QS5y7wlf.js";import{p as S,s as q,a as z}from"./B227BkWK.js";import{M as G}from"./ClWsMFS7.js";import{j as P}from"./Jagi0WJL.js";import{g as J}from"./Dw326QmB.js";import{A as B,j as Q}from"./DeYUhNiz.js";import{au as R,av as W,I as w,a2 as K,aw as X,ax as Y}from"./LrV5ZTyj.js";import{$ as L}from"./DdY9CyNE.js";import{t as Z,h as $}from"./D4fmOnVC.js";var ee=E("<!> <!>",1);function de(x,s){D(s,!0);const i=()=>z(L,"$t",I),[I,O]=q();let f=S(s,"menuItem",3,!1),l=S(s,"unarchive",3,!1),d=m(()=>l()?i()("unarchive"):i()("to_archive")),v=m(()=>l()?R:W),g=U(!1);const{clearSelect:C,getOwnedAssets:A}=J(),h=async()=>{const e=l()?B.Timeline:B.Archive,a=[...A()].filter(p=>p.visibility!==e);F(g,!0);const r=await P(a,e);r&&(s.onArchive?.(r,e),C()),F(g,!1)};var _=ee(),y=b(_);{var M=e=>{G(e,{get text(){return o(d)},get icon(){return o(v)},onClick:h})};u(y,e=>{f()&&e(M)})}var j=H(y,2);{var t=e=>{var a=V(),r=b(a);{var p=c=>{{let N=m(()=>i()("loading"));w(c,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(N)},get icon(){return K},onclick:()=>{}})}},n=c=>{w(c,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(d)},get icon(){return o(v)},onclick:h})};u(r,c=>{o(g)?c(p):c(n,!1)})}k(e,a)};u(j,e=>{f()||e(t)})}k(x,_),T(),O()}var te=E("<!> <!>",1);function ge(x,s){D(s,!0);const i=()=>z(L,"$t",I),[I,O]=q();let f=S(s,"menuItem",3,!1),l=m(()=>s.removeFavorite?i()("remove_from_favorites"):i()("to_favorite")),d=m(()=>s.removeFavorite?X:Y),v=U(!1);const{clearSelect:g,getOwnedAssets:C}=J(),A=async()=>{const t=!s.removeFavorite;F(v,!0);try{const e=[...C()].filter(r=>r.isFavorite!==t),a=e.map(({id:r})=>r);a.length>0&&await Q({assetBulkUpdateDto:{ids:a,isFavorite:t}});for(const r of e)r.isFavorite=t;s.onFavorite?.(a,t),Z.success(t?i()("added_to_favorites_count",{values:{count:a.length}}):i()("removed_from_favorites_count",{values:{count:a.length}})),g()}catch(e){$(e,i()("errors.unable_to_add_remove_favorites",{values:{favorite:t}}))}finally{F(v,!1)}};var h=te(),_=b(h);{var y=t=>{G(t,{get text(){return o(l)},get icon(){return o(d)},onClick:A})};u(_,t=>{f()&&t(y)})}var M=H(_,2);{var j=t=>{var e=V(),a=b(e);{var r=n=>{{let c=m(()=>i()("loading"));w(n,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(c)},get icon(){return K},onclick:()=>{}})}},p=n=>{w(n,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(l)},get icon(){return o(d)},onclick:A})};u(a,n=>{o(v)?n(r):n(p,!1)})}k(t,e)};u(M,t=>{f()||t(j)})}k(x,h),T(),O()}export{de as A,ge as F};

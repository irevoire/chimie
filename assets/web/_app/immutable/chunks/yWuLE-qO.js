import{X as x,w as A,Y as N,Z as B,_ as c,a0 as E,v as T,a1 as D,a2 as g,a3 as S,a4 as H,o as L,a5 as R,x as n,y as Y,A as Z,C as q,B as C,D as v}from"./BOqQhZBJ.js";import{B as G}from"./CnteGC4G.js";const b=0,_=1;function P(y,k,m,r,l){n&&Y();var h=x(),t=R,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),a=new G(y);A(()=>{var u=k(),d=!1;let p=n&&N(u)===(y.data===Z);if(p&&(q(C()),v(!1)),N(u)){var w=D(),I=!1;const s=e=>{if(!d){I=!0,w(!1),g.ensure(),n&&v(!1);try{e()}finally{S(),H||L()}}};u.then(e=>{s(()=>{c(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(c(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,m):B(()=>{I||s(()=>{a.ensure(b,m)})})}else c(i,u),a.ensure(_,r&&(s=>r(s,i)));return p&&v(!0),()=>{d=!0}})}export{P as a};

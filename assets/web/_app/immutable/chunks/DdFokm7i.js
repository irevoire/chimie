import{u as r,g as m,j as h}from"./BOqQhZBJ.js";import{T as t}from"./BNLYq5HQ.js";import{e as i}from"./ytu5q_IM.js";import{P as o}from"./4T_x9N89.js";import{t as n,o as l}from"./LrV5ZTyj.js";const a=()=>globalThis.matchMedia("(prefers-color-scheme: dark)").matches?t.DARK:t.LIGHT;class u{#t=new o("color-theme",{value:a(),system:!1},{valid:e=>Object.values(t).includes(e?.value)});get theme(){return this.#t.current}#s=r(()=>this.theme.value);get value(){return m(this.#s)}set value(e){h(this.#s,e)}#a=r(()=>this.value===t.DARK);get isDark(){return m(this.#a)}set isDark(e){h(this.#a,e)}constructor(){i.on({AppInit:()=>this.#r()})}setSystem(e){this.#e(e?"system":a())}setTheme(e){this.#e(e)}toggleTheme(){this.#e(this.value===t.DARK?t.LIGHT:t.DARK)}#r(){const e=()=>{this.#e(this.theme.system?"system":this.theme.value)};e(),globalThis.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e,{passive:!0})}#e(e){const s=e==="system"?{system:!0,value:a()}:{system:!1,value:e};document.documentElement.classList.toggle("dark",s.value!==t.LIGHT),this.#t.current=s,n.value=s.value,l(),i.emit("ThemeChange",s)}}const f=new u;export{f as t};

import"./DsnmJJEf.js";import{d as Y,b as Z,a as $,s as C}from"./BufZg4h2.js";import{h as R,aV as f,g as i,p as T,P as tt,f as U,a as V,U as et,b as B,c as n,t as I,i as rt,s as P,r as l,n as st,j as at}from"./BOqQhZBJ.js";import{i as w}from"./QS5y7wlf.js";import{c as M,s as A,a as v,f as j}from"./CnteGC4G.js";import{a as it,G as ot,bB as nt,u as lt,s as ct}from"./LrV5ZTyj.js";import{p as g,a as D,s as F,c as ut,d as L}from"./B227BkWK.js";import{c as dt}from"./Dw326QmB.js";import{p as O}from"./DbKlvrsB.js";import{g as ht}from"./C4XZXykC.js";import{h as mt}from"./Jagi0WJL.js";const pt=Symbol();class ft extends URLSearchParams{#t=R(0);#s=gt();#e=!1;#r(){if(!this.#s||this.#e)return;this.#e=!0;const t=this.toString();this.#s.search=t&&`?${t}`,this.#e=!1}[pt](t){if(!this.#e){this.#e=!0;for(const e of[...super.keys()])super.delete(e);for(const[e,o]of t)super.append(e,o);f(this.#t),this.#e=!1}}append(t,e){super.append(t,e),this.#r(),f(this.#t)}delete(t,e){var o=super.has(t,e);super.delete(t,e),o&&(this.#r(),f(this.#t))}get(t){return i(this.#t),super.get(t)}getAll(t){return i(this.#t),super.getAll(t)}has(t,e){return i(this.#t),super.has(t,e)}keys(){return i(this.#t),super.keys()}set(t,e){var o=super.getAll(t).join("");super.set(t,e),o!==super.getAll(t).join("")&&(this.#r(),f(this.#t))}sort(){super.sort(),this.#r(),f(this.#t)}toString(){return i(this.#t),super.toString()}values(){return i(this.#t),super.values()}entries(){return i(this.#t),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(this.#t),super.size}}let vt=null;function gt(){return vt}const{get:_t,set:bt}=dt();function Ot(_,t){T(t,!0);const e=()=>D(b(),"$state",o),[o,S]=F(),c=u=>new Set((O.url.searchParams.get(u)||"").split(" ").filter(d=>d!==""));let b=g(t,"state",19,()=>et(c(t.queryParam)));bt(b());const s=new ft(O.url.searchParams);tt(()=>{e().size>0?s.set(t.queryParam,[...e()].join(" ")):s.delete(t.queryParam),mt(ht(`?${s.toString()}`,{replaceState:!0,noScroll:!0,keepFocus:!0}))});var y=M(),k=U(y);A(k,()=>t.children??B),v(_,y),V(),S()}var yt=j('<p class="text-sm dark:text-immich-dark-fg mt-1"> </p>'),kt=j('<ul class="mb-2 ms-4"><!></ul>'),St=j('<div><button type="button" class="flex w-full place-items-center justify-between text-start svelte-1abad14"><div><div class="flex gap-2 place-items-center"><!> <h2 class="font-medium text-primary"> </h2></div> <!></div> <div class="immich-circle-icon-button flex place-content-center place-items-center rounded-full p-3 transition-all hover:bg-immich-primary/10 dark:text-immich-dark-fg hover:dark:bg-immich-dark-primary/20"><svg style="tran" width="20" height="20" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" class="svelte-1abad14"><path d="M19 9l-7 7-7-7"></path></svg></div></button> <!></div>');function Rt(_,t){T(t,!0);const e=()=>D(c,"$accordionState",o),[o,S]=F(),c=_t();let b=g(t,"subtitle",3,""),s=g(t,"isOpen",31,()=>rt(e().has(t.key))),y=g(t,"autoScrollTo",3,!1),k=g(t,"icon",3,""),u=R(void 0);const d=r=>{r?(L(c,e().add(t.key)),y()&&setTimeout(()=>{i(u)?.scrollIntoView({behavior:"smooth",block:"start"})},200)):(e().delete(t.key),L(c,e()))};Z(()=>{d(!1)});const G=()=>{s(!s()),d(s())};$(()=>{d(s())});var h=St(),m=n(h);m.__click=G;var z=n(m),x=n(z),E=n(x);{var H=r=>{it(r,{get icon(){return k()},class:"text-primary",size:"24","aria-hidden":!0})};w(E,r=>{k()&&r(H)})}var q=P(E,2),J=n(q,!0);l(q),l(x);var K=P(x,2);{var N=r=>{var a=M(),p=U(a);A(p,()=>t.subtitleSnippet),v(r,a)},Q=r=>{var a=yt(),p=n(a,!0);l(a),I(()=>C(p,b())),v(r,a)};w(K,r=>{t.subtitleSnippet?r(N):r(Q,!1)})}l(z),st(2),l(m);var W=P(m,2);{var X=r=>{var a=kt(),p=n(a);A(p,()=>t.children??B),l(a),ot(3,a,()=>nt,()=>({duration:150})),v(r,a)};w(W,r=>{s()&&r(X)})}l(h),ut(h,r=>at(u,r),()=>i(u)),I(()=>{lt(h,1,`border-2 rounded-2xl border-primary/20 mt-4 px-6 py-4 transition-all ${s()?"border-primary/60 shadow-md":""}`),ct(m,"aria-expanded",s()),C(J,t.title)}),v(_,h),V(),S()}Y(["click"]);export{Ot as S,Rt as a};

import"./DsnmJJEf.js";import{p as Y,i as Z,f as T,g as i,u as _,s as y,t as g,c as b,a as $,n as tt,r as u}from"./BOqQhZBJ.js";import{d as et,s as j}from"./BufZg4h2.js";import{f as v,t as at,a as n}from"./CnteGC4G.js";import{i as z}from"./QS5y7wlf.js";import{e as rt}from"./D4fmOnVC.js";import{B as it,T as st,a as q,u as A,G as ot,X as lt,H as nt}from"./LrV5ZTyj.js";import{a as dt}from"./4T_x9N89.js";import{p as s}from"./B227BkWK.js";import{c as ct}from"./BmZTbFl5.js";import{i as ft}from"./BzKamodV.js";var ut=v("<!> <!>",1),vt=v('<div class="text-primary"><!></div> <p class="justify-self-start text-primary"> </p>',1),mt=v('<div></div> <p class="justify-self-start"> </p>',1),_t=v('<button type="button"><!></button>'),gt=v("<div></div>"),bt=v('<div class="relative"><!> <!></div>');function zt(G,a){Y(a,!0);let H=s(a,"position",3,"bottom-left"),I=s(a,"class",3,""),k=s(a,"selectedOption",31,()=>Z(a.options[0])),h=s(a,"showMenu",15,!1),N=s(a,"controlable",3,!1),W=s(a,"hideTextOnSmallScreen",3,!0),X=s(a,"title",3,void 0),F=s(a,"onClickOutside",3,()=>{}),J=s(a,"render",3,String);const B=()=>{N()||h(!1),F()()},K=t=>{a.onSelect(t),k(t),h(!1)},D=t=>{const e=J()(t);return typeof e==="string"?{title:e}:{title:e.title,icon:e.icon,disabled:e.disabled}};let O=_(()=>D(k()));const L=t=>{switch(t){case"bottom-left":return"start-0";case"bottom-right":return"end-0";default:return""}};var p=bt(),E=b(p);it(E,{onclick:()=>h(!0),fullWidth:!0,get title(){return X()},variant:"ghost",color:"secondary",size:"small",children:(t,e)=>{var o=ut(),d=T(o);{var l=r=>{q(r,{get icon(){return i(O).icon}})};z(d,r=>{i(O)?.icon&&r(l)})}var w=y(d,2);{let r=_(()=>W()?"hidden sm:block":"");st(w,{get class(){return i(r)},children:(S,M)=>{tt();var x=at();g(()=>j(x,i(O).title)),n(S,x)},$$slots:{default:!0}})}n(t,o)},$$slots:{default:!0}});var Q=y(E,2);{var R=t=>{var e=gt();rt(e,20,()=>a.options,o=>o,(o,d)=>{const l=_(()=>D(d)),w=_(()=>i(l).disabled?"":"transition-all hover:bg-gray-300 dark:hover:bg-gray-800");var r=_t();r.__click=()=>!i(l).disabled&&K(d);var S=b(r);{var M=c=>{var m=vt(),f=T(m),C=b(f);q(C,{get icon(){return lt}}),u(f);var P=y(f,2),V=b(P,!0);u(P),g(()=>j(V,i(l).title)),n(c,m)},x=_(()=>ft(k(),d)),U=c=>{var m=mt(),f=y(T(m),2),C=b(f,!0);u(f),g(()=>j(C,i(l).title)),n(c,m)};z(S,c=>{i(x)?c(M):c(U,!1)})}u(r),g(()=>{A(r,1,`grid grid-cols-[36px_1fr] place-items-center p-2 disabled:opacity-40 ${i(w)??""}`),r.disabled=i(l).disabled}),n(o,r)}),u(e),g(o=>A(e,1,`text-sm font-medium z-1 absolute flex min-w-75 max-h-[70vh] overflow-y-auto immich-scrollbar flex-col rounded-2xl bg-gray-100 py-2 text-black shadow-lg dark:bg-gray-700 dark:text-white ${I()??""} ${o??""}`),[()=>L(H())]),ot(3,e,()=>nt,()=>({y:-30,duration:250})),n(t,e)};z(Q,t=>{h()&&t(R)})}u(p),dt(p,(t,e)=>ct?.(t,e),()=>({onOutclick:B,onEscape:B})),n(G,p),$()}et(["click"]);export{zt as D};

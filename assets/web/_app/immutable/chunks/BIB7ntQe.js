import{D as _,l as r}from"./Jagi0WJL.js";import{J as m}from"./DeYUhNiz.js";import{D as s}from"./Cx5lmlld.js";import{d as l,as as y}from"./BOqQhZBJ.js";import{S as T}from"./De1sTUmb.js";import{$ as h}from"./DdY9CyNE.js";const u=(t,e)=>s.fromISO(t,{zone:e,locale:l(r)}),g=(t,e)=>u(t,e).toObject(),d=t=>u(t,"UTC"),D=t=>d(t).toObject(),L=(t,e)=>{const n=d(t),o=n.toObject(),c=n.plus({hours:e}).setZone("UTC",{keepLocalTime:!0}).toObject();return{fileCreatedAt:o,localDateTime:c}},S=t=>s.fromObject(t,{zone:"local",locale:l(r)}),V=t=>s.fromObject({year:t.year,month:t.month,day:t.day},{zone:"local",locale:l(r)}),U=t=>s.fromObject({year:t.year,month:t.month},{zone:"local",locale:l(r)}),P=({year:t,month:e})=>{const n=`${t}`.padStart(4,"0"),o=`${e}`.padStart(2,"0");return`${n}-${o}-01T00:00:00.000Z`};function w(t){return t.isValid?t.toLocaleString({month:"short",year:"numeric"},{locale:l(r)}):t.toString()}function E(t){if(!t.isValid)return t.toString();const e=t,n=s.now().startOf("day");return n.hasSame(e,"day")?e.toRelativeCalendar({locale:l(r)}):n.minus({days:1}).hasSame(e,"day")?e.toRelativeCalendar({locale:l(r)}):e>=n.minus({days:6})&&e<n?e.toLocaleString({weekday:"long"},{locale:l(r)}):n.hasSame(e,"year")?e.toLocaleString({weekday:"short",month:"short",day:"numeric"},{locale:l(r)}):x(e,{locale:l(r)})}const x=(t,e)=>t.toLocaleString(s.DATE_MED_WITH_WEEKDAY,e),R=t=>{if(I(t))return t;const e=t,n=_(e)??1,o=e.exifInfo?.city,a=e.exifInfo?.country,c=e.people?.map(f=>f.name)||[],i=D(e.localDateTime),p=g(e.fileCreatedAt,e.exifInfo?.timeZone??"UTC");return{id:e.id,ownerId:e.ownerId,ratio:n,thumbhash:e.thumbhash,localDateTime:i,fileCreatedAt:p,isFavorite:e.isFavorite,visibility:e.visibility,isTrashed:e.isTrashed,isVideo:e.type==m.Video,isImage:e.type==m.Image,stack:e.stack||null,duration:e.duration||null,projectionType:e.exifInfo?.projectionType||null,livePhotoVideoId:e.livePhotoVideoId||null,city:o||null,country:a||null,people:c,latitude:e.exifInfo?.latitude||null,longitude:e.exifInfo?.longitude||null}},I=t=>t.ratio!==void 0,k=t=>t.type!==void 0,z=t=>t.length===0||"ratio"in t[0],F=(t,e,n)=>{const[o,a]=t?[e,n]:[n,e];return o.year!==a.year?o.year-a.year:o.month!==a.month?o.month-a.month:o.day!==a.day?o.day-a.day:o.hour!==a.hour?o.hour-a.hour:o.minute!==a.minute?o.minute-a.minute:o.second!==a.second?o.second-a.second:o.millisecond-a.millisecond};function Z(t,e){const n=new T;for(const o of t)e.has(o)||n.add(o);return n}const G=y(h,t=>e=>{const n=S(e.localDateTime).toJSDate().toLocaleString(l(r),{dateStyle:"long",timeZone:"UTC"}),o=e.city&&e.country,a=e.people?.length??0,c=e.isVideo,i={date:n,city:e.city,country:e.country,person1:e.people?.[0],person2:e.people?.[1],person3:e.people?.[2],isVideo:c,additionalCount:a>3?a-2:0};if(a>0)switch(a){case 1:return o?t("image_alt_text_date_place_1_person",{values:i}):t("image_alt_text_date_1_person",{values:i});case 2:return o?t("image_alt_text_date_place_2_people",{values:i}):t("image_alt_text_date_2_people",{values:i});case 3:return o?t("image_alt_text_date_place_3_people",{values:i}):t("image_alt_text_date_3_people",{values:i});default:return o?t("image_alt_text_date_place_4_or_more_people",{values:i}):t("image_alt_text_date_4_or_more_people",{values:i})}return o?t("image_alt_text_date_place",{values:i}):t("image_alt_text_date",{values:i})});export{z as a,d as b,u as c,P as d,w as e,S as f,G as g,U as h,I as i,L as j,E as k,V as l,k as m,x as n,F as p,Z as s,R as t};

import{a as nt,s as ve,m as st,u as at}from"./BufZg4h2.js";import"./DsnmJJEf.js";import{u as i,g as t,j as u,h as w,p as Q,f as l,a as V,c as le,b as U,r as ie,s as B,by as $e,n as Ne,t as ae}from"./BOqQhZBJ.js";import{p as Ue,c as C,a as o,s as N,f as S,t as Se}from"./CnteGC4G.js";import{i as K}from"./QS5y7wlf.js";import{p as n,r as de,b as Z,e as me}from"./B227BkWK.js";import{c2 as lt,c3 as Qe,c7 as ye,dO as Le,cd as R,c4 as it,dP as dt,ca as ct,dQ as ut,cc as Ve,h as Ge,aq as ee,ch as Y,dR as ht,dS as pt,dT as ft,dU as mt,dV as He,n as We,cK as je,C as H,dn as gt,y as vt,a as _t,L as yt,i as se,q as Ct,u as bt,l as ge,B as qe}from"./LrV5ZTyj.js";import{c as Pt,C as wt,a as xt,b as Ot,d as Je,S as Mt}from"./Ze2c3aZz.js";import{C as Nt,a as St}from"./Vqhp0wrh.js";import{T as kt}from"./D4fmOnVC.js";const It=ct({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),Ce=new lt("Dialog.Root | AlertDialog.Root");class ke{static create(e){const r=Ce.getOr(null);return Ce.set(new ke(e,r))}opts;#e=w(null);get triggerNode(){return t(this.#e)}set triggerNode(e){u(this.#e,e,!0)}#t=w(null);get contentNode(){return t(this.#t)}set contentNode(e){u(this.#t,e,!0)}#r=w(null);get overlayNode(){return t(this.#r)}set overlayNode(e){u(this.#r,e,!0)}#o=w(null);get descriptionNode(){return t(this.#o)}set descriptionNode(e){u(this.#o,e,!0)}#n=w(void 0);get contentId(){return t(this.#n)}set contentId(e){u(this.#n,e,!0)}#s=w(void 0);get titleId(){return t(this.#s)}set titleId(e){u(this.#s,e,!0)}#a=w(void 0);get triggerId(){return t(this.#a)}set triggerId(e){u(this.#a,e,!0)}#l=w(void 0);get descriptionId(){return t(this.#l)}set descriptionId(e){u(this.#l,e,!0)}#i=w(null);get cancelNode(){return t(this.#i)}set cancelNode(e){u(this.#i,e,!0)}#d=w(0);get nestedOpenCount(){return t(this.#d)}set nestedOpenCount(e){u(this.#d,e,!0)}depth;parent;contentPresence;overlayPresence;constructor(e,r){this.opts=e,this.parent=r,this.depth=r?r.depth+1:0,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.contentPresence=new Le({ref:R(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),this.overlayPresence=new Le({ref:R(()=>this.overlayNode),open:this.opts.open,enabled:!0}),it(()=>this.opts.open.current,s=>{this.parent&&(s?this.parent.incrementNested():this.parent.decrementNested())},{lazy:!0}),dt(()=>{this.opts.open.current&&this.parent?.decrementNested()})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=e=>It.getAttr(e,this.opts.variant.current);incrementNested(){this.nestedOpenCount++,this.parent?.incrementNested()}decrementNested(){this.nestedOpenCount!==0&&(this.nestedOpenCount--,this.parent?.decrementNested())}#c=i(()=>({"data-state":ut(this.opts.open.current)}));get sharedProps(){return t(this.#c)}set sharedProps(e){u(this.#c,e)}}class Ie{static create(e){return new Ie(e,Ce.get())}opts;root;attachment;constructor(e,r){this.opts=e,this.root=r,this.attachment=Qe(this.opts.ref,s=>{this.root.contentNode=s,this.root.contentId=s?.id})}#e=i(()=>({open:this.root.opts.open.current}));get snippetProps(){return t(this.#e)}set snippetProps(e){u(this.#e,e)}#t=i(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0,"--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,"data-nested-open":ye(this.root.nestedOpenCount>0),"data-nested":ye(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return t(this.#t)}set props(e){u(this.#t,e)}get shouldRender(){return this.root.contentPresence.shouldRender}}class Be{static create(e){return new Be(e,Ce.get())}opts;root;attachment;constructor(e,r){this.opts=e,this.root=r,this.attachment=Qe(this.opts.ref,s=>this.root.overlayNode=s)}#e=i(()=>({open:this.root.opts.open.current}));get snippetProps(){return t(this.#e)}set snippetProps(e){u(this.#e,e)}#t=i(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto","--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},"data-nested-open":ye(this.root.nestedOpenCount>0),"data-nested":ye(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return t(this.#t)}set props(e){u(this.#t,e)}get shouldRender(){return this.root.overlayPresence.shouldRender}}var Bt=S("<div><!></div>");function Ft(d,e){const r=Ue();Q(e,!0);let s=n(e,"id",19,()=>Ve(r)),f=n(e,"forceMount",3,!1),m=n(e,"ref",15,null),g=de(e,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const v=Be.create({id:R(()=>s()),ref:R(()=>m(),b=>m(b))}),k=i(()=>ee(g,v.props));var F=C(),W=l(F);{var M=b=>{var T=C(),a=l(T);{var x=P=>{var h=C(),c=l(h);{let p=i(()=>({props:ee(t(k)),...v.snippetProps}));N(c,()=>e.child,()=>t(p))}o(P,h)},O=P=>{var h=Bt();Ge(h,p=>({...p}),[()=>ee(t(k))]);var c=le(h);N(c,()=>e.children??U,()=>v.snippetProps),ie(h),o(P,h)};K(a,P=>{e.child?P(x):P(O,!1)})}o(b,T)};K(W,b=>{(v.shouldRender||f())&&b(M)})}o(d,F),V()}function At(d,e){Q(e,!0);let r=n(e,"open",15,!1),s=n(e,"onOpenChange",3,Y),f=n(e,"onOpenChangeComplete",3,Y);ke.create({variant:R(()=>"dialog"),open:R(()=>r(),v=>{r(v),s()(v)}),onOpenChangeComplete:R(()=>f())});var m=C(),g=l(m);N(g,()=>e.children??U),o(d,m),V()}var Et=S("<!> <!>",1),Dt=S("<!> <div><!></div>",1);function zt(d,e){const r=Ue();Q(e,!0);let s=n(e,"id",19,()=>Ve(r)),f=n(e,"ref",15,null),m=n(e,"forceMount",3,!1),g=n(e,"onCloseAutoFocus",3,Y),v=n(e,"onOpenAutoFocus",3,Y),k=n(e,"onEscapeKeydown",3,Y),F=n(e,"onInteractOutside",3,Y),W=n(e,"trapFocus",3,!0),M=n(e,"preventScroll",3,!0),b=n(e,"restoreScrollDelay",3,null),T=de(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const a=Ie.create({id:R(()=>s()),ref:R(()=>f(),c=>f(c))}),x=i(()=>ee(T,a.props));var O=C(),P=l(O);{var h=c=>{ht(c,{get ref(){return a.opts.ref},loop:!0,get trapFocus(){return W()},get enabled(){return a.root.opts.open.current},get onOpenAutoFocus(){return v()},get onCloseAutoFocus(){return g()},focusScope:(_,y)=>{let I=()=>y?.().props;pt(_,Z(()=>t(x),{get enabled(){return a.root.opts.open.current},get ref(){return a.opts.ref},onEscapeKeydown:$=>{k()($),!$.defaultPrevented&&a.root.handleClose()},children:($,Fe)=>{ft($,Z(()=>t(x),{get ref(){return a.opts.ref},get enabled(){return a.root.opts.open.current},onInteractOutside:te=>{F()(te),!te.defaultPrevented&&a.root.handleClose()},children:(te,be)=>{mt(te,Z(()=>t(x),{get ref(){return a.opts.ref},get enabled(){return a.root.opts.open.current},children:(Pe,Ae)=>{var ce=C(),we=l(ce);{var Ee=A=>{var j=Et(),E=l(j);{var D=z=>{He(z,{get preventScroll(){return M()},get restoreScrollDelay(){return b()}})};K(E,z=>{a.root.opts.open.current&&z(D)})}var re=B(E,2);{let z=i(()=>({props:ee(t(x),I()),...a.snippetProps}));N(re,()=>e.child,()=>t(z))}o(A,j)},ue=A=>{var j=Dt(),E=l(j);He(E,{get preventScroll(){return M()}});var D=B(E,2);Ge(D,z=>({...z}),[()=>ee(t(x),I())]);var re=le(D);N(re,()=>e.children??U),ie(D),o(A,j)};K(we,A=>{e.child?A(Ee):A(ue,!1)})}o(Pe,ce)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};K(P,c=>{(a.shouldRender||m())&&c(h)})}o(d,O),V()}class Kt{#e=w(0);get layer(){return t(this.#e)}incrementLayer(){return $e(this.#e)}decrementLayer(){if(t(this.#e)<1)throw new Error("Tried to decrement the modal layer <0");return $e(this.#e,-1)}}const _e=new Kt,hr=()=>_e.layer>0;var Rt=S('<div class="flex items-center justify-between gap-2"><!> <!> <!></div>'),Tt=S("<!> <!> <!>",1),$t=S("<div><!></div>"),Lt=S("<!> <!>",1),Ht=S("<!> <!>",1);function Wt(d,e){Q(e,!0);let r=n(e,"size",3,"medium"),s=n(e,"icon",3,!0),f=n(e,"closeOnEsc",3,!0),m=n(e,"closeOnBackdropClick",3,!1);const g=We({base:"bg-light dark:bg-subtle border-subtle shadow-primary/20 flex rounded-none border shadow-sm sm:rounded-2xl dark:border-white/10",variants:{size:{tiny:"h-full sm:h-min md:max-w-sm",small:"h-full sm:h-min md:max-w-md",medium:"h-full sm:h-min md:max-w-(--breakpoint-sm)",large:"h-full sm:h-min md:max-w-(--breakpoint-md)",giant:"h-full sm:h-min md:max-w-(--breakpoint-lg)",full:"h-full w-full"}}}),v=We({base:`${je.ModalContent} fixed inset-0 m-auto flex max-h-dvh grow sm:p-4`,variants:{size:{tiny:"sm:h-min md:max-w-sm",small:"sm:h-min md:max-w-md",medium:"sm:h-min md:max-w-(--breakpoint-sm)",large:"sm:h-min md:max-w-(--breakpoint-md)",giant:"sm:h-min md:max-w-(--breakpoint-lg)",full:""}}}),{getByKey:k}=Pt(H.Modal),F=i(()=>k(H.ModalHeader)),W=i(()=>k(H.ModalBody)),M=i(()=>k(H.ModalFooter));let b=w(null);const T=i(()=>m()?"close":"ignore"),a=i(()=>f()?"close":"ignore");let x=w(void 0);const O=i(()=>t(x)!==_e.layer),P=y=>{!y&&!t(O)&&e.onClose?.()},h=y=>{y.stopImmediatePropagation(),e.onEscapeKeydown?.(y)};nt(()=>(u(x,_e.incrementLayer(),!0),()=>_e.decrementLayer()));var c=Ht(),p=l(c);{let y=i(()=>!t(O));me(p,()=>At,(I,$)=>{$(I,{get open(){return t(y)},onOpenChangeComplete:P,children:(Fe,te)=>{var be=C(),Pe=l(be);me(Pe,()=>gt,(Ae,ce)=>{ce(Ae,{children:(we,Ee)=>{var ue=Lt(),A=l(ue);me(A,()=>Ft,(E,D)=>{D(E,{get class(){return`${je.ModalBackdrop} fixed start-0 top-0  flex h-dvh max-h-dvh w-screen bg-black/30`}})});var j=B(A,2);{let E=i(()=>se(v({size:r()})));me(j,()=>zt,(D,re)=>{re(D,{get onOpenAutoFocus(){return e.onOpenAutoFocus},onEscapeKeydown:h,get escapeKeydownBehavior(){return t(a)},get interactOutsideBehavior(){return t(T)},get class(){return t(E)},children:(z,Yt)=>{kt(z,{children:(Xe,Zt)=>{var he=$t(),Ye=le(he);{let xe=i(()=>se(g({size:r()}),e.class));wt(Ye,{get class(){return t(xe)},get ref(){return t(b)},set ref(Oe){u(b,Oe,!0)},children:(Oe,er)=>{var De=Tt(),ze=l(De);xt(ze,{class:"border-b border-gray-200 px-5 py-3 dark:border-white/10",children:(q,pe)=>{var oe=C(),ne=l(oe);{var G=J=>{var X=C(),fe=l(X);N(fe,()=>t(F).children??U),o(J,X)},Me=J=>{var X=Rt(),fe=le(X);{var tt=L=>{_t(L,{get icon(){return s()},size:"1.5rem","aria-hidden":!0})},rt=L=>{yt(L,{variant:"icon",size:"tiny"})};K(fe,L=>{typeof s()=="string"?L(tt):s()&&L(rt,1)})}var Re=B(fe,2);Nt(Re,{tag:"p",class:"text-dark/90 grow text-lg font-semibold",children:(L,tr)=>{Ne();var Te=Se();ae(()=>ve(Te,e.title)),o(L,Te)},$$slots:{default:!0}});var ot=B(Re,2);vt(ot,{class:"-me-2",onclick:()=>e.onClose?.()}),ie(X),o(J,X)};K(ne,J=>{t(F)?J(G):e.title&&J(Me,1)})}o(q,oe)},$$slots:{default:!0}});var Ke=B(ze,2);{let q=i(()=>se("grow px-5",t(W)?.class));Ot(Ke,{get class(){return t(q)},children:(pe,oe)=>{var ne=C(),G=l(ne);N(G,()=>t(W)?.children??U),o(pe,ne)},$$slots:{default:!0}})}var Ze=B(Ke,2);{var et=q=>{{let pe=i(()=>se("border-t border-gray-200 dark:border-white/10",t(M).class));St(q,{get class(){return t(pe)},children:(oe,ne)=>{var G=C(),Me=l(G);N(Me,()=>t(M).children??U),o(oe,G)},$$slots:{default:!0}})}};K(Ze,q=>{t(M)&&q(et)})}o(Oe,De)},$$slots:{default:!0}})}ie(he),ae(xe=>bt(he,1,xe),[()=>Ct(se("flex w-full grow flex-col justify-center"))]),o(Xe,he)}})},$$slots:{default:!0}})})}o(we,ue)},$$slots:{default:!0}})}),o(Fe,be)},$$slots:{default:!0}})})}var _=B(p,2);N(_,()=>e.children??U),o(d,c),V()}function jt(d,e){Q(e,!0);let r=de(e,["$$slots","$$events","$$legacy"]);Je(d,Z({get for(){return H.Modal},get as(){return H.ModalBody}},()=>r)),V()}function qt(d,e){Q(e,!0);let r=de(e,["$$slots","$$events","$$legacy"]);Je(d,Z({get for(){return H.Modal},get as(){return H.ModalFooter}},()=>r)),V()}function Ut(d,e){const r=de(e,["$$slots","$$events","$$legacy","class","children"]);Mt(d,Z({direction:"row",align:"center",get class(){return e.class}},()=>r,{children:(s,f)=>{var m=C(),g=l(m);N(g,()=>e.children),o(s,m)},$$slots:{default:!0}}))}var Qt=S("<p> </p>"),Vt=S("<!> <!>",1),Gt=S("<!> <!>",1);function Jt(d,e){Q(e,!0);let r=n(e,"title",19,()=>ge("confirm")),s=n(e,"prompt",19,()=>ge("prompt_default")),f=n(e,"confirmText",19,()=>ge("confirm")),m=n(e,"confirmColor",3,"danger"),g=n(e,"disabled",3,!1),v=n(e,"size",3,"small");const k=()=>{e.onClose(!0)};Wt(d,{get title(){return r()},onClose:()=>e.onClose(!1),get size(){return v()},get icon(){return e.icon},children:(F,W)=>{var M=Gt(),b=l(M);jt(b,{children:(a,x)=>{var O=C(),P=l(O);{var h=p=>{var _=Qt(),y=le(_,!0);ie(_),ae(()=>ve(y,s())),o(p,_)},c=p=>{var _=C(),y=l(_);N(y,s),o(p,_)};K(P,p=>{typeof s()=="string"?p(h):p(c,!1)})}o(a,O)},$$slots:{default:!0}});var T=B(b,2);qt(T,{children:(a,x)=>{Ut(a,{fullWidth:!0,children:(O,P)=>{var h=Vt(),c=l(h);qe(c,{shape:"round",color:"secondary",fullWidth:!0,onclick:()=>e.onClose(!1),children:(_,y)=>{Ne();var I=Se();ae($=>ve(I,$),[()=>ge("cancel")]),o(_,I)},$$slots:{default:!0}});var p=B(c,2);qe(p,{shape:"round",get color(){return m()},fullWidth:!0,onclick:k,get disabled(){return g()},children:(_,y)=>{Ne();var I=Se();ae(()=>ve(I,f())),o(_,I)},$$slots:{default:!0}}),o(O,h)},$$slots:{default:!0}})},$$slots:{default:!0}}),o(F,M)},$$slots:{default:!0}}),V()}class Xt{show(e,...r){return this.open(e,...r).onClose}open(e,...r){let s={},f;return{onClose:new Promise(g=>{f=async(...v)=>{await at(s),g(v[0])},s=st(e,{target:document.body,props:{...r?.[0]??{},onClose:f}})}),close:(...g)=>f(...g)}}showDialog(e){return this.show(Jt,e)}}const pr=new Xt;export{Jt as C,Ut as H,Wt as M,jt as a,qt as b,hr as i,pr as m};

import"./DsnmJJEf.js";import{p as Pe,f as G,a as Ie,g as L,u as V,t as Q}from"./BOqQhZBJ.js";import{s as J}from"./BufZg4h2.js";import{c as U,a as C,t as q,s as Re}from"./CnteGC4G.js";import{i as Y}from"./QS5y7wlf.js";import{e as Ce,i as Oe}from"./D4fmOnVC.js";import{p as Me,s as Ge,a as K}from"./B227BkWK.js";import{a as Ue,c as we}from"./DdY9CyNE.js";const De=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ve(t){const e={};return t.replace(De,n=>{const s=n.length;switch(n[0]){case"G":e.era=s===4?"long":s===5?"narrow":"short";break;case"y":e.year=s===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][s-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][s-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=s===4?"long":s===5?"narrow":"short";break;case"e":if(s<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"c":if(s<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][s-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][s-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][s-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][s-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][s-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][s-1];break;case"s":e.second=["numeric","2-digit"][s-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=s<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}const Fe=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function ke(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");const e=t.split(Fe).filter(s=>s.length>0),n=[];for(const s of e){let i=s.split("/");if(i.length===0)throw new Error("Invalid number skeleton");const[h,...o]=i;for(const u of o)if(u.length===0)throw new Error("Invalid number skeleton");n.push({stem:h,options:o})}return n}function Ve(t){return t.replace(/^(.*?)-/,"")}const ee=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,he=/^(@+)?(\+|#+)?[rs]?$/g,Xe=/(\*)(0+)|(#+)(0+)|(0+)/g,ae=/^(0+)$/;function te(t){const e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(he,function(n,s,i){return typeof i!="string"?(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length):i==="+"?e.minimumSignificantDigits=s.length:s[0]==="#"?e.maximumSignificantDigits=s.length:(e.minimumSignificantDigits=s.length,e.maximumSignificantDigits=s.length+(typeof i=="string"?i.length:0)),""}),e}function ue(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function xe(t){let e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){const n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!ae.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function ne(t){const e={},n=ue(t);return n||e}function je(t){let e={};for(const n of t){switch(n.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=n.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=Ve(n.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e={...e,notation:"scientific",...n.options.reduce((h,o)=>({...h,...ne(o)}),{})};continue;case"engineering":e={...e,notation:"engineering",...n.options.reduce((h,o)=>({...h,...ne(o)}),{})};continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(n.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(n.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");n.options[0].replace(Xe,function(h,o,u,r,p,a){if(o)e.minimumIntegerDigits=u.length;else{if(r&&p)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""});continue}if(ae.test(n.stem)){e.minimumIntegerDigits=n.stem.length;continue}if(ee.test(n.stem)){if(n.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");n.stem.replace(ee,function(o,u,r,p,a,c){return r==="*"?e.minimumFractionDigits=u.length:p&&p[0]==="#"?e.maximumFractionDigits=p.length:a&&c?(e.minimumFractionDigits=a.length,e.maximumFractionDigits=a.length+c.length):(e.minimumFractionDigits=u.length,e.maximumFractionDigits=u.length),""});const h=n.options[0];h==="w"?e={...e,trailingZeroDisplay:"stripIfInteger"}:h&&(e={...e,...te(h)});continue}if(he.test(n.stem)){e={...e,...te(n.stem)};continue}const s=ue(n.stem);s&&(e={...e,...s});const i=xe(n.stem);i&&(e={...e,...i})}return e}let E=(function(t){return t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag",t})({}),v=(function(t){return t[t.number=0]="number",t[t.dateTime=1]="dateTime",t})({});function se(t){return t.type===E.literal}function Ze(t){return t.type===E.argument}function ce(t){return t.type===E.number}function le(t){return t.type===E.date}function fe(t){return t.type===E.time}function me(t){return t.type===E.select}function pe(t){return t.type===E.plural}function We(t){return t.type===E.pound}function Ee(t){return t.type===E.tag}function ge(t){return!!(t&&typeof t=="object"&&t.type===v.number)}function Z(t){return!!(t&&typeof t=="object"&&t.type===v.dateTime)}let m=(function(t){return t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG",t})({});const be=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,w={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GS:["H","h","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ku-SY":["H","hB"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function $e(t,e){let n="";for(let s=0;s<t.length;s++){const i=t.charAt(s);if(i==="j"){let h=0;for(;s+1<t.length&&t.charAt(s+1)===i;)h++,s++;let o=1+(h&1),u=h<2?1:3+(h>>1),r="a",p=ze(e);for((p=="H"||p=="k")&&(u=0);u-- >0;)n+=r;for(;o-- >0;)n=p+n}else i==="J"?n+="H":n+=i}return n}function ze(t){let e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}const n=t.language;let s;return n!=="root"&&(s=t.maximize().region),(w[s||""]||w[n||""]||w[`${n}-001`]||w["001"])[0]}const Qe=new RegExp(`^${be.source}*`),Je=new RegExp(`${be.source}*$`);function f(t,e){return{start:t,end:e}}const qe=!!Object.fromEntries,Ye=!!String.prototype.trimStart,Ke=!!String.prototype.trimEnd,ie=qe?Object.fromEntries:function(e){const n={};for(const[s,i]of e)n[s]=i;return n},et=Ye?function(e){return e.trimStart()}:function(e){return e.replace(Qe,"")},tt=Ke?function(e){return e.trimEnd()}:function(e){return e.replace(Je,"")},re=new RegExp("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");function nt(t,e){return re.lastIndex=e,re.exec(t)[1]??""}class st{message;position;locale;ignoreTag;requiresOtherClause;shouldParseSkeletons;constructor(e,n={}){this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}parse(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)}parseMessage(e,n,s){let i=[];for(;!this.isEOF();){const h=this.char();if(h===123){const o=this.parseArgument(e,s);if(o.err)return o;i.push(o.val)}else{if(h===125&&e>0)break;if(h===35&&(n==="plural"||n==="selectordinal")){const o=this.clonePosition();this.bump(),i.push({type:E.pound,location:f(o,this.clonePosition())})}else if(h===60&&!this.ignoreTag&&this.peek()===47){if(s)break;return this.error(m.UNMATCHED_CLOSING_TAG,f(this.clonePosition(),this.clonePosition()))}else if(h===60&&!this.ignoreTag&&W(this.peek()||0)){const o=this.parseTag(e,n);if(o.err)return o;i.push(o.val)}else{const o=this.parseLiteral(e,n);if(o.err)return o;i.push(o.val)}}}return{val:i,err:null}}parseTag(e,n){const s=this.clonePosition();this.bump();const i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:E.literal,value:`<${i}/>`,location:f(s,this.clonePosition())},err:null};if(this.bumpIf(">")){const h=this.parseMessage(e+1,n,!0);if(h.err)return h;const o=h.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!W(this.char()))return this.error(m.INVALID_TAG,f(u,this.clonePosition()));const r=this.clonePosition(),p=this.parseTagName();return i!==p?this.error(m.UNMATCHED_CLOSING_TAG,f(r,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:E.tag,value:i,children:o,location:f(s,this.clonePosition())},err:null}:this.error(m.INVALID_TAG,f(u,this.clonePosition())))}else return this.error(m.UNCLOSED_TAG,f(s,this.clonePosition()))}else return this.error(m.INVALID_TAG,f(s,this.clonePosition()))}parseTagName(){const e=this.offset();for(this.bump();!this.isEOF()&&rt(this.char());)this.bump();return this.message.slice(e,this.offset())}parseLiteral(e,n){const s=this.clonePosition();let i="";for(;;){const o=this.tryParseQuote(n);if(o){i+=o;continue}const u=this.tryParseUnquoted(e,n);if(u){i+=u;continue}const r=this.tryParseLeftAngleBracket();if(r){i+=r;continue}break}const h=f(s,this.clonePosition());return{val:{type:E.literal,value:i,location:h},err:null}}tryParseLeftAngleBracket(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!it(this.peek()||0))?(this.bump(),"<"):null}tryParseQuote(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();const n=[this.char()];for(this.bump();!this.isEOF();){const s=this.char();if(s===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(s);this.bump()}return String.fromCodePoint(...n)}tryParseUnquoted(e,n){if(this.isEOF())return null;const s=this.char();return s===60||s===123||s===35&&(n==="plural"||n==="selectordinal")||s===125&&e>0?null:(this.bump(),String.fromCodePoint(s))}parseArgument(e,n){const s=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(m.EXPECT_ARGUMENT_CLOSING_BRACE,f(s,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(m.EMPTY_ARGUMENT,f(s,this.clonePosition()));let i=this.parseIdentifierIfPossible().value;if(!i)return this.error(m.MALFORMED_ARGUMENT,f(s,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(m.EXPECT_ARGUMENT_CLOSING_BRACE,f(s,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:E.argument,value:i,location:f(s,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(m.EXPECT_ARGUMENT_CLOSING_BRACE,f(s,this.clonePosition())):this.parseArgumentOptions(e,n,i,s);default:return this.error(m.MALFORMED_ARGUMENT,f(s,this.clonePosition()))}}parseIdentifierIfPossible(){const e=this.clonePosition(),n=this.offset(),s=nt(this.message,n),i=n+s.length;this.bumpTo(i);const h=this.clonePosition(),o=f(e,h);return{value:s,location:o}}parseArgumentOptions(e,n,s,i){let h=this.clonePosition(),o=this.parseIdentifierIfPossible().value,u=this.clonePosition();switch(o){case"":return this.error(m.EXPECT_ARGUMENT_TYPE,f(h,u));case"number":case"date":case"time":{this.bumpSpace();let r=null;if(this.bumpIf(",")){this.bumpSpace();const c=this.clonePosition(),l=this.parseSimpleArgStyleIfPossible();if(l.err)return l;const H=tt(l.val);if(H.length===0)return this.error(m.EXPECT_ARGUMENT_STYLE,f(this.clonePosition(),this.clonePosition()));const g=f(c,this.clonePosition());r={style:H,styleLocation:g}}const p=this.tryParseArgumentClose(i);if(p.err)return p;const a=f(i,this.clonePosition());if(r&&r.style.startsWith("::")){let c=et(r.style.slice(2));if(o==="number"){const l=this.parseNumberSkeletonFromString(c,r.styleLocation);return l.err?l:{val:{type:E.number,value:s,location:a,style:l.val},err:null}}else{if(c.length===0)return this.error(m.EXPECT_DATE_TIME_SKELETON,a);let l=c;this.locale&&(l=$e(c,this.locale));const H={type:v.dateTime,pattern:l,location:r.styleLocation,parsedOptions:this.shouldParseSkeletons?ve(l):{}};return{val:{type:o==="date"?E.date:E.time,value:s,location:a,style:H},err:null}}}return{val:{type:o==="number"?E.number:o==="date"?E.date:E.time,value:s,location:a,style:r?.style??null},err:null}}case"plural":case"selectordinal":case"select":{const r=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(m.EXPECT_SELECT_ARGUMENT_OPTIONS,f(r,{...r}));this.bumpSpace();let p=this.parseIdentifierIfPossible(),a=0;if(o!=="select"&&p.value==="offset"){if(!this.bumpIf(":"))return this.error(m.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,f(this.clonePosition(),this.clonePosition()));this.bumpSpace();const g=this.tryParseDecimalInteger(m.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,m.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(g.err)return g;this.bumpSpace(),p=this.parseIdentifierIfPossible(),a=g.val}const c=this.tryParsePluralOrSelectOptions(e,o,n,p);if(c.err)return c;const l=this.tryParseArgumentClose(i);if(l.err)return l;const H=f(i,this.clonePosition());return o==="select"?{val:{type:E.select,value:s,options:ie(c.val),location:H},err:null}:{val:{type:E.plural,value:s,options:ie(c.val),offset:a,pluralType:o==="plural"?"cardinal":"ordinal",location:H},err:null}}default:return this.error(m.INVALID_ARGUMENT_TYPE,f(h,u))}}tryParseArgumentClose(e){return this.isEOF()||this.char()!==125?this.error(m.EXPECT_ARGUMENT_CLOSING_BRACE,f(e,this.clonePosition())):(this.bump(),{val:!0,err:null})}parseSimpleArgStyleIfPossible(){let e=0;const n=this.clonePosition();for(;!this.isEOF();)switch(this.char()){case 39:{this.bump();let i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(m.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,f(i,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}return{val:this.message.slice(n.offset,this.offset()),err:null}}parseNumberSkeletonFromString(e,n){let s=[];try{s=ke(e)}catch{return this.error(m.INVALID_NUMBER_SKELETON,n)}return{val:{type:v.number,tokens:s,location:n,parsedOptions:this.shouldParseSkeletons?je(s):{}},err:null}}tryParsePluralOrSelectOptions(e,n,s,i){let h=!1;const o=[],u=new Set;let{value:r,location:p}=i;for(;;){if(r.length===0){const H=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){const g=this.tryParseDecimalInteger(m.EXPECT_PLURAL_ARGUMENT_SELECTOR,m.INVALID_PLURAL_ARGUMENT_SELECTOR);if(g.err)return g;p=f(H,this.clonePosition()),r=this.message.slice(H.offset,this.offset())}else break}if(u.has(r))return this.error(n==="select"?m.DUPLICATE_SELECT_ARGUMENT_SELECTOR:m.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,p);r==="other"&&(h=!0),this.bumpSpace();const a=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?m.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:m.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,f(this.clonePosition(),this.clonePosition()));const c=this.parseMessage(e+1,n,s);if(c.err)return c;const l=this.tryParseArgumentClose(a);if(l.err)return l;o.push([r,{value:c.val,location:f(a,this.clonePosition())}]),u.add(r),this.bumpSpace(),{value:r,location:p}=this.parseIdentifierIfPossible()}return o.length===0?this.error(n==="select"?m.EXPECT_SELECT_ARGUMENT_SELECTOR:m.EXPECT_PLURAL_ARGUMENT_SELECTOR,f(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!h?this.error(m.MISSING_OTHER_CLAUSE,f(this.clonePosition(),this.clonePosition())):{val:o,err:null}}tryParseDecimalInteger(e,n){let s=1;const i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(s=-1);let h=!1,o=0;for(;!this.isEOF();){const r=this.char();if(r>=48&&r<=57)h=!0,o=o*10+(r-48),this.bump();else break}const u=f(i,this.clonePosition());return h?(o*=s,Number.isSafeInteger(o)?{val:o,err:null}:this.error(n,u)):this.error(e,u)}offset(){return this.position.offset}isEOF(){return this.offset()===this.message.length}clonePosition(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}}char(){const e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");const n=this.message.codePointAt(e);if(n===void 0)throw Error(`Offset ${e} is at invalid UTF-16 code unit boundary`);return n}error(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}}bump(){if(this.isEOF())return;const e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}bumpIf(e){if(this.message.startsWith(e,this.offset())){for(let n=0;n<e.length;n++)this.bump();return!0}return!1}bumpUntil(e){const n=this.offset(),s=this.message.indexOf(e,n);return s>=0?(this.bumpTo(s),!0):(this.bumpTo(this.message.length),!1)}bumpTo(e){if(this.offset()>e)throw Error(`targetOffset ${e} must be greater than or equal to the current offset ${this.offset()}`);for(e=Math.min(e,this.message.length);;){const n=this.offset();if(n===e)break;if(n>e)throw Error(`targetOffset ${e} is at invalid UTF-16 code unit boundary`);if(this.bump(),this.isEOF())break}}bumpSpace(){for(;!this.isEOF()&&ot(this.char());)this.bump()}peek(){if(this.isEOF())return null;const e=this.char(),n=this.offset();return this.message.charCodeAt(n+(e>=65536?2:1))??null}}function W(t){return t>=97&&t<=122||t>=65&&t<=90}function it(t){return W(t)||t===47}function rt(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function ot(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function $(t){t.forEach(e=>{if(delete e.location,me(e)||pe(e))for(const n in e.options)delete e.options[n].location,$(e.options[n].value);else ce(e)&&ge(e.style)||(le(e)||fe(e))&&Z(e.style)?delete e.style.location:Ee(e)&&$(e.children)})}function ht(t,e={}){e={shouldParseSkeletons:!0,requiresOtherClause:!0,...e};const n=new st(t,e).parse();if(n.err){const s=SyntaxError(m[n.err.kind]);throw s.location=n.err.location,s.originalMessage=n.err.message,s}return e?.captureLocation||$(n.val),n.val}function X(t,e){const n=e&&e.cache?e.cache:pt,s=e&&e.serializer?e.serializer:ft;return(e&&e.strategy?e.strategy:ct)(t,{cache:n,serializer:s})}function at(t){return t==null||typeof t=="number"||typeof t=="boolean"}function ut(t,e,n,s){const i=at(s)?s:n(s);let h=e.get(i);return typeof h>"u"&&(h=t.call(this,s),e.set(i,h)),h}function He(t,e,n){const s=Array.prototype.slice.call(arguments,3),i=n(s);let h=e.get(i);return typeof h>"u"&&(h=t.apply(this,s),e.set(i,h)),h}function Te(t,e,n,s,i){return n.bind(e,t,s,i)}function ct(t,e){const n=t.length===1?ut:He;return Te(t,this,n,e.cache.create(),e.serializer)}function lt(t,e){return Te(t,this,He,e.cache.create(),e.serializer)}const ft=function(){return JSON.stringify(arguments)};class mt{cache;constructor(){this.cache=Object.create(null)}get(e){return this.cache[e]}set(e,n){this.cache[e]=n}}const pt={create:function(){return new mt}},x={variadic:lt};let F=(function(t){return t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API",t})({});class k extends Error{code;originalMessage;constructor(e,n,s){super(e),this.code=n,this.originalMessage=s}toString(){return`[formatjs Error: ${this.code}] ${this.message}`}}class oe extends k{constructor(e,n,s,i){super(`Invalid values for "${e}": "${n}". Options are "${Object.keys(s).join('", "')}"`,F.INVALID_VALUE,i)}}class Et extends k{constructor(e,n,s){super(`Value for "${e}" must be of type ${n}`,F.INVALID_VALUE,s)}}class gt extends k{constructor(e,n){super(`The intl string context variable "${e}" was not provided to the string "${n}"`,F.MISSING_VALUE,n)}}let _=(function(t){return t[t.literal=0]="literal",t[t.object=1]="object",t})({});function bt(t){return t.length<2?t:t.reduce((e,n)=>{const s=e[e.length-1];return!s||s.type!==_.literal||n.type!==_.literal?e.push(n):s.value+=n.value,e},[])}function Ht(t){return typeof t=="function"}function D(t,e,n,s,i,h,o){if(t.length===1&&se(t[0]))return[{type:_.literal,value:t[0].value}];const u=[];for(const r of t){if(se(r)){u.push({type:_.literal,value:r.value});continue}if(We(r)){typeof h=="number"&&u.push({type:_.literal,value:n.getNumberFormat(e).format(h)});continue}const{value:p}=r;if(!(i&&p in i))throw new gt(p,o);let a=i[p];if(Ze(r)){(!a||typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(a=typeof a=="string"||typeof a=="number"||typeof a=="bigint"?String(a):""),u.push({type:typeof a=="string"?_.literal:_.object,value:a});continue}if(le(r)){const c=typeof r.style=="string"?s.date[r.style]:Z(r.style)?r.style.parsedOptions:void 0;u.push({type:_.literal,value:n.getDateTimeFormat(e,c).format(a)});continue}if(fe(r)){const c=typeof r.style=="string"?s.time[r.style]:Z(r.style)?r.style.parsedOptions:s.time.medium;u.push({type:_.literal,value:n.getDateTimeFormat(e,c).format(a)});continue}if(ce(r)){const c=typeof r.style=="string"?s.number[r.style]:ge(r.style)?r.style.parsedOptions:void 0;if(c&&c.scale){const l=c.scale||1;if(typeof a=="bigint"){if(!Number.isInteger(l))throw new TypeError(`Cannot apply fractional scale ${l} to bigint value. Scale must be an integer when formatting bigint.`);a=a*BigInt(l)}else a=a*l}u.push({type:_.literal,value:n.getNumberFormat(e,c).format(a)});continue}if(Ee(r)){const{children:c,value:l}=r,H=i[l];if(!Ht(H))throw new Et(l,"function",o);const g=D(c,e,n,s,i,h);let d=H(g.map(N=>N.value));Array.isArray(d)||(d=[d]),u.push(...d.map(N=>({type:typeof N=="string"?_.literal:_.object,value:N})))}if(me(r)){const c=a,l=(Object.prototype.hasOwnProperty.call(r.options,c)?r.options[c]:void 0)||r.options.other;if(!l)throw new oe(r.value,a,Object.keys(r.options),o);u.push(...D(l.value,e,n,s,i));continue}if(pe(r)){const c=`=${a}`;let l=Object.prototype.hasOwnProperty.call(r.options,c)?r.options[c]:void 0;if(!l){if(!Intl.PluralRules)throw new k(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,F.MISSING_INTL_API,o);const g=typeof a=="bigint"?Number(a):a,d=n.getPluralRules(e,{type:r.pluralType}).select(g-(r.offset||0));l=(Object.prototype.hasOwnProperty.call(r.options,d)?r.options[d]:void 0)||r.options.other}if(!l)throw new oe(r.value,a,Object.keys(r.options),o);const H=typeof a=="bigint"?Number(a):a;u.push(...D(l.value,e,n,s,i,H-(r.offset||0)));continue}}return bt(u)}function Tt(t,e){return e?{...t,...e,...Object.keys(t).reduce((n,s)=>(n[s]={...t[s],...e[s]},n),{})}:t}function Bt(t,e){return e?Object.keys(t).reduce((n,s)=>(n[s]=Tt(t[s],e[s]),n),{...t}):t}function j(t){return{create(){return{get(e){return t[e]},set(e,n){t[e]=n}}}}}function _t(t={number:{},dateTime:{},pluralRules:{}}){return{getNumberFormat:X((...e)=>new Intl.NumberFormat(...e),{cache:j(t.number),strategy:x.variadic}),getDateTimeFormat:X((...e)=>new Intl.DateTimeFormat(...e),{cache:j(t.dateTime),strategy:x.variadic}),getPluralRules:X((...e)=>new Intl.PluralRules(...e),{cache:j(t.pluralRules),strategy:x.variadic})}}class y{ast;locales;resolvedLocale;formatters;formats;message;formatterCache={number:{},dateTime:{},pluralRules:{}};constructor(e,n=y.defaultLocale,s,i){if(this.locales=n,this.resolvedLocale=y.resolveLocale(n),typeof e=="string"){if(this.message=e,!y.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");const{...h}=i||{};this.ast=y.__parse(e,{...h,locale:this.resolvedLocale})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Bt(y.formats,s),this.formatters=i&&i.formatters||_t(this.formatterCache)}format=e=>{const n=this.formatToParts(e);if(n.length===1)return n[0].value;const s=n.reduce((i,h)=>(!i.length||h.type!==_.literal||typeof i[i.length-1]!="string"?i.push(h.value):i[i.length-1]+=h.value,i),[]);return s.length<=1?s[0]||"":s};formatToParts=e=>D(this.ast,this.locales,this.formatters,this.formats,e,void 0,this.message);resolvedOptions=()=>({locale:this.resolvedLocale?.toString()||Intl.NumberFormat.supportedLocalesOf(this.locales)[0]});getAst=()=>this.ast;static memoizedDefaultLocale=null;static get defaultLocale(){return y.memoizedDefaultLocale||(y.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),y.memoizedDefaultLocale}static resolveLocale=e=>{if(typeof Intl.Locale>"u")return;const n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])};static __parse=ht;static formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}function Rt(t,e){Pe(e,!0);const n=()=>K(we,"$json",i),s=()=>K(Ue,"$i18nLocale",i),[i,h]=Ge();let o=Me(e,"values",19,()=>({}));const u=b=>{if(b==null)throw new Error("Cannot format a message without first setting the initial locale.");return b},r=(b,T)=>new y(b,T,void 0,{ignoreTag:!1}).getAst(),p=b=>{const T={};for(const A of Object.values(b.options))for(const S of A.value)if(S.type===E.tag){const B=S.value;T[B]=(...P)=>`<${B}>${P}</${B}>`}return T},a=(b,T)=>{const A=new y([b],L(g),void 0,{ignoreTag:!0}).format(T);return new y(A,L(g),void 0,{ignoreTag:!1}).getAst().map(B=>c(B))},c=b=>{const T=b.type===E.tag;return{tag:T?b.value:void 0,message:new y(T?b.children:[b],L(g),void 0,{ignoreTag:!0}).format(o())}},l=(b,T)=>{try{const A=r(b,T),S=[];for(const B of A)if(B.type===E.plural||B.type===E.select){const P=p(B);S.push(...a(B,{...o(),...P}))}else S.push(c(B));return S}catch(A){return A instanceof Error&&console.warn(`Message "${e.key}" has syntax error:`,A.message),[{message:b,tag:void 0}]}};let H=V(()=>n()(e.key)||e.key),g=V(()=>u(s())),d=V(()=>l(L(H),L(g)));var N=U(),Be=G(N);Ce(Be,17,()=>L(d),Oe,(b,T,A,S)=>{let B=()=>L(T).tag,P=()=>L(T).message;var z=U(),_e=G(z);{var ye=I=>{var O=U(),Ae=G(O);{var Se=R=>{var M=U(),Ne=G(M);Re(Ne,()=>e.children,()=>({tag:B(),message:P()})),C(R,M)},Le=R=>{var M=q();Q(()=>J(M,P())),C(R,M)};Y(Ae,R=>{e.children?R(Se):R(Le,!1)})}C(I,O)},de=I=>{var O=q();Q(()=>J(O,P())),C(I,O)};Y(_e,I=>{B()?I(ye):I(de,!1)})}C(b,z)}),C(t,N),Ie(),h()}export{Rt as F};

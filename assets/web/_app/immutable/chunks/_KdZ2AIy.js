import{n}from"./C2I_EQjW.js";import{S as s}from"./BNLYq5HQ.js";import{h as I}from"./Jagi0WJL.js";function g(r,{routeStartsWith:i,beforeSave:a,beforeClear:t,beforeScroll:o}){const S=n.subscribe(e=>{const m=sessionStorage.getItem(s.SCROLL_POSITION);e?.to&&!m&&(e.to.url.pathname.startsWith(i)?(a?.(),sessionStorage.setItem(s.SCROLL_POSITION,r.scrollTop.toString())):(t?.(),sessionStorage.removeItem(s.SCROLL_POSITION)))});return I((async()=>{await o?.();const e=sessionStorage.getItem(s.SCROLL_POSITION);e&&r.scroll({top:Number.parseFloat(e),behavior:"instant"}),t?.(),sessionStorage.removeItem(s.SCROLL_POSITION)})()),{destroy(){S()}}}function u(r,{routeStartsWith:i,beforeClear:a}){const t=n.subscribe(o=>{o?.to&&!o?.to.url.pathname.startsWith(i)&&(a?.(),sessionStorage.removeItem(s.SCROLL_POSITION))});return{destroy(){t()}}}export{u as a,g as s};

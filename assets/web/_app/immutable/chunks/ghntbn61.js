const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_app/immutable/chunks/DBZgVNgs.js","_app/immutable/chunks/DsnmJJEf.js","_app/immutable/chunks/DdY9CyNE.js","_app/immutable/chunks/BNLYq5HQ.js","_app/immutable/chunks/BOqQhZBJ.js","_app/immutable/chunks/DIeogL5L.js","_app/immutable/chunks/BufZg4h2.js","_app/immutable/chunks/CnteGC4G.js","_app/immutable/chunks/QS5y7wlf.js","_app/immutable/chunks/LrV5ZTyj.js","_app/immutable/chunks/B227BkWK.js","_app/immutable/chunks/C4XZXykC.js","_app/immutable/chunks/BUApaBEI.js","_app/immutable/assets/Logo.BzPWps5k.css","_app/immutable/chunks/Di6OVBka.js","_app/immutable/chunks/ytu5q_IM.js","_app/immutable/chunks/FIvvbHQR.js","_app/immutable/chunks/DeYUhNiz.js","_app/immutable/chunks/DdFokm7i.js","_app/immutable/chunks/4T_x9N89.js","_app/immutable/chunks/zKTaOrsI.js","_app/immutable/chunks/eLOR7anR.js","_app/immutable/chunks/Cx5lmlld.js","_app/immutable/chunks/BeWG-__C.js","_app/immutable/chunks/C0Ca_l_S.js","_app/immutable/chunks/C20f7eOz.js","_app/immutable/chunks/Ze2c3aZz.js","_app/immutable/chunks/Vqhp0wrh.js","_app/immutable/chunks/D4fmOnVC.js","_app/immutable/chunks/B_VXSWsl.js","_app/immutable/chunks/DzmAA-7p.js","_app/immutable/chunks/rybNiN9i.js","_app/immutable/chunks/69_IOA4Y.js","_app/immutable/chunks/CMtyP6CA.js","_app/immutable/chunks/CRYXttfP.js","_app/immutable/chunks/DU0cVi4D.js","_app/immutable/chunks/BJT5MMCK.js","_app/immutable/assets/Input.DUYXNfxO.css","_app/immutable/assets/Select.CV-KWLNP.css","_app/immutable/chunks/Jagi0WJL.js","_app/immutable/chunks/C2I_EQjW.js","_app/immutable/chunks/DbKlvrsB.js","_app/immutable/chunks/De1sTUmb.js","_app/immutable/chunks/BzKamodV.js","_app/immutable/chunks/Cqn8UuRa.js","_app/immutable/chunks/D-rYfuUG.js","_app/immutable/chunks/DHs6cPar.js","_app/immutable/chunks/gLUpBE6V.js","_app/immutable/assets/map.f_XjgDN9.css"])))=>i.map(i=>d[i]);
import{_ as Ft,i as Rt,t as At}from"./BNLYq5HQ.js";import"./DsnmJJEf.js";import{p as rt,t as J,a as nt,f as V,c as T,r as x,s as $,U as $t,h as A,i as lt,d as Pt,P as mt,g as a,j as f,u as W}from"./BOqQhZBJ.js";import{d as wt,e as zt,s as Q}from"./BufZg4h2.js";import{f as G,a as H,c as at}from"./CnteGC4G.js";import{a as ct}from"./yWuLE-qO.js";import{i as vt}from"./QS5y7wlf.js";import{e as Gt,h as jt}from"./D4fmOnVC.js";import{p as F,a as Mt,s as Wt,c as bt,e as qt}from"./B227BkWK.js";import{a as ft}from"./4T_x9N89.js";import{r as Kt,s as z,bn as Bt,w as Vt,u as Jt}from"./LrV5ZTyj.js";import{c as Qt}from"./BmZTbFl5.js";import{s as Xt}from"./_U16pX41.js";import{b as Yt}from"./eLOR7anR.js";import{c as Zt}from"./CH9-R8qO.js";import{g as te}from"./Bz1BELIr.js";import{$ as Tt}from"./DdY9CyNE.js";import{S as ee}from"./6ckOa7Ax.js";import{u as ie}from"./Jagi0WJL.js";import{bk as ae}from"./DeYUhNiz.js";import{C as re}from"./C20f7eOz.js";const ne=(n,e)=>{const i=s=>{if(!e)return;const o=Array.from(e?.children);if(o.length===0)return;const u=document.activeElement===null?-1:o.indexOf(document.activeElement),t=(s==="up"?-1:1)+(s==="up"&&u===-1?1:0),d=(u+t+o.length)%o.length,l=o.at(d);l instanceof HTMLElement&&l.focus()},{destroy:r}=Xt(n,[{shortcut:{key:"ArrowUp"},onShortcut:()=>i("up"),ignoreInputFields:!1},{shortcut:{key:"ArrowDown"},onShortcut:()=>i("down"),ignoreInputFields:!1}]);return{update(s){e=s},destroy:r}};var oe=G('<input type="number" class="immich-form-input w-full"/>');function gt(n,e){rt(e,!0);let i=F(e,"step",3,"any"),r=F(e,"required",3,!0),s=F(e,"value",15),o=F(e,"onPaste",3,void 0),u=F(e,"onKeyDown",3,void 0);const t=()=>{s()!==void 0&&(s()!==null&&(s()<e.min||s()>e.max)&&s(Zt(s(),e.min,e.max)),e.onInput(s()))};var d=oe();Kt(d),d.__input=t,d.__keydown=function(...l){u()?.apply(this,l)},J(()=>{z(d,"id",e.id),z(d,"min",e.min),z(d,"max",e.max),z(d,"step",i()),d.required=r()}),zt("paste",d,function(...l){o()?.apply(this,l)}),Yt(d,s),H(n,d),nt()}wt(["input","keydown"]);const de=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,Lt=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,ht=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,pt=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,Et=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,St=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function se(n){if(!["DMS","DM","DD"].includes(n))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(v=>Number(v.trim())),i=Number(e[0]),r=Number(e[1]),s=Math.abs(i),o=Math.abs(r),u=i>0?"N":"S",t=r>0?"E":"W";let d;n=="DD"&&(d=`${s}° ${u}, ${o}° ${t}`);const l=Math.floor(s),m=Math.floor(o),h=(s-l)*60,b=(o-m)*60;if(n=="DM"){let v=Nt(h,3).toFixed(3).padStart(6,"0"),g=Nt(b,3).toFixed(3).padStart(6,"0");v.endsWith(".000")&&g.endsWith(".000")&&(v=v.replace(/\.000$/,""),g=g.replace(/\.000$/,"")),d=`${l}° ${v}' ${u}, ${m}° ${g}' ${t}`}if(n=="DMS"){const v=Math.floor(h),g=Math.floor(b);let C=((h-v)*60).toFixed(1).padStart(4,"0"),E=((b-g)*60).toFixed(1).padStart(4,"0");const p=v.toString().padStart(2,"0"),_=g.toString().padStart(2,"0");C.endsWith(".0")&&E.endsWith(".0")&&(C=C.replace(/\.0$/,""),E=E.replace(/\.0$/,"")),d=`${l}° ${p}' ${C}" ${u}, ${m}° ${_}' ${E}" ${t}`}return d}else throw new Error("no decimal coordinates to convert")}function Nt(n,e){const i=Math.pow(10,e);return Math.round((n+Number.EPSILON)*i)/i}function ot(n,e){e||(e=5),n=n.replace(/\s+/g," ").trim();let i=null,r=null,s="",o="",u=null,t=[],d=!1;if(de.test(n))throw new Error("invalid coordinate value");if(Lt.test(n))if(t=Lt.exec(n),d=q(t),d)i=Math.abs(t[1])+t[2]/60,Number(t[1])<0&&(i*=-1),r=Math.abs(t[3])+t[4]/60,Number(t[3])<0&&(r*=-1),u="DM";else throw new Error("invalid coordinate format");else if(ht.test(n))if(t=ht.exec(n),d=q(t),d){if(i=t[2],r=t[6],i.includes(",")&&(i=i.replace(",",".")),r.includes(",")&&(r=r.replace(",",".")),u="DD",Number(Math.round(i))==Number(i))throw new Error("integer only coordinate provided");if(Number(Math.round(r))==Number(r))throw new Error("integer only coordinate provided");t[1]?(s=t[1],o=t[5]):t[4]&&(s=t[4],o=t[8])}else throw new Error("invalid decimal coordinate format");else if(pt.test(n))if(t=pt.exec(n),d=q(t),d)i=Math.abs(parseInt(t[2])),t[4]&&(i+=t[4]/60,u="DM"),t[6]&&(i+=t[6].replace(",",".")/3600,u="DMS"),parseInt(t[2])<0&&(i=-1*i),r=Math.abs(parseInt(t[9])),t[11]&&(r+=t[11]/60),t[13]&&(r+=t[13].replace(",",".")/3600),parseInt(t[9])<0&&(r=-1*r),t[1]?(s=t[1],o=t[8]):t[7]&&(s=t[7],o=t[14]);else throw new Error("invalid DMS coordinates format");else if(Et.test(n))if(t=Et.exec(n),d=q(t),d)i=Math.abs(parseInt(t[2])),t[4]&&(i+=t[4]/60,u="DM"),t[6]&&(i+=t[6]/3600,u="DMS"),parseInt(t[2])<0&&(i=-1*i),r=Math.abs(parseInt(t[10])),t[12]&&(r+=t[12]/60),t[14]&&(r+=t[14]/3600),parseInt(t[10])<0&&(r=-1*r),t[1]?(s=t[1],o=t[9]):t[8]&&(s=t[8],o=t[16]);else throw new Error("invalid DMS coordinates format");else if(St.test(n)){if(t=St.exec(n),d=q(t),t.filter(l=>l).length<=5)throw new Error("invalid coordinates format");if(d)i=Math.abs(parseInt(t[2])),t[4]&&(i+=t[4].replace(",",".")/60,u="DM"),t[6]&&(i+=t[6].replace(",",".")/3600,u="DMS"),parseInt(t[2])<0&&(i=-1*i),r=Math.abs(parseInt(t[10])),t[12]&&(r+=t[12].replace(",",".")/60),t[14]&&(r+=t[14].replace(",",".")/3600),parseInt(t[10])<0&&(r=-1*r),t[1]?(s=t[1],o=t[9]):t[8]&&(s=t[8],o=t[16]);else throw new Error("invalid coordinates format")}if(d){if(Math.abs(r)>=180)throw new Error("invalid longitude value");if(Math.abs(i)>=90)throw new Error("invalid latitude value");if(s&&!o||!s&&o)throw new Error("invalid coordinates value");if(s&&s==o)throw new Error("invalid coordinates format");i.toString().includes(",")&&(i=i.replace(",",".")),r.toString().includes(",")&&(r=r.replace(",","."));let l=/S|SOUTH/i;l.test(s)&&i>0&&(i=-1*i),l=/W|WEST/i,l.test(o)&&r>0&&(r=-1*r);const m=t[0].trim();let h,b;const v=/[,/;\u0020]/g,g=m.match(v);if(g==null){const p=Math.floor(n.length/2);h=m.substring(0,p).trim(),b=m.substring(p).trim()}else{let p;g.length%2==1?p=Math.floor(g.length/2):p=g.length/2-1;let _=0;if(p==0)_=m.indexOf(g[0]),h=m.substring(0,_).trim(),b=m.substring(_+1).trim();else{let R=0,c=0;for(;R<=p;)_=m.indexOf(g[R],c),c=_+1,R++;h=m.substring(0,_).trim(),b=m.substring(_+1).trim()}}const C=h.split(".");if(C.length==2&&C[1]==0&&C[1].length!=2)throw new Error("invalid coordinates format");const E=b.split(".");if(E.length==2&&E[1]==0&&E[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(h)||/^\d+$/.test(b))throw new Error("degree only coordinate/s provided");return i=Number(Number(i).toFixed(e)),r=Number(Number(r).toFixed(e)),Object.freeze({verbatimCoordinates:m,verbatimLatitude:h,verbatimLongitude:b,decimalLatitude:i,decimalLongitude:r,decimalCoordinates:`${i},${r}`,originalFormat:u,closeEnough:ue,toCoordinateFormat:se})}else throw new Error("coordinates pattern match failed")}function q(n){if(!isNaN(n[0]))return!1;const e=[...n];if(e.shift(),e.length%2>0)return!1;const i=/^[-+]?\d+([\.,]\d+)?$/,r=/[eastsouthnorthwest]+/i,s=e.length/2;for(let o=0;o<s;o++){const u=e[o],t=e[o+s],d=i.test(u)&&i.test(t),l=r.test(u)&&r.test(t),m=u==t;if(!(u==null&&t==null)){if(u==null||t==null)return!1;if(d||l||m)continue;return!1}}return!0}function Ct(n,e){const i=Math.abs(n-e);return Number(i.toFixed(6))<=1e-5}function ue(n){if(!n)throw new Error("coords must be provided");if(n.includes(",")){const e=n.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return Ct(this.decimalLatitude,Number(e[0]))&&Ct(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const le=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});ot.to=le;const me=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],ce={decimalLatitude:40.123,decimalLongitude:-74.123},ve=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],be=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function fe(){const n=[];return me.forEach(e=>{e.decimalLatitude?n.push(e):n.push({...e,...ce})}),[...n,...ve,...be]}const ge=fe();ot.formats=ge.map(n=>n.verbatimCoordinates);const Le=ot;var he=G('<div><label class="immich-form-label"> </label> <!></div> <div><label class="immich-form-label"> </label> <!></div>',1);function pe(n,e){rt(e,!0);const i=()=>Mt(Tt,"$t",r),[r,s]=Wt();let o=F(e,"lat",15),u=F(e,"lng",15);const t=te(),d=()=>{o()!=null&&u()!=null&&e.onUpdate(o(),u())},l=c=>{c.stopPropagation()},m=c=>{const P=c.clipboardData?.getData("text/plain");if(P)try{const j=Le(P);j&&(c.preventDefault(),o(j.decimalLatitude),u(j.decimalLongitude),d())}catch{}};var h=he(),b=V(h),v=T(b),g=T(v,!0);x(v);var C=$(v,2);gt(C,{get id(){return`latitude-input-${t??""}`},min:-90,max:90,onKeyDown:l,onInput:d,onPaste:m,get value(){return o()},set value(c){o(c)}}),x(b);var E=$(b,2),p=T(E),_=T(p,!0);x(p);var R=$(p,2);gt(R,{get id(){return`longitude-input-${t??""}`},min:-180,max:180,onKeyDown:l,onInput:d,onPaste:m,get value(){return u()},set value(c){u(c)}}),x(E),J((c,P)=>{z(v,"for",`latitude-input-${t??""}`),Q(g,c),z(p,"for",`longitude-input-${t??""}`),Q(_,P)},[()=>i()("latitude"),()=>i()("longitude")]),H(n,h),nt(),s()}const _t=$t(null);var Ee=G('<div><button type="button" class="w-full"><!></button></div>'),Se=G('<button type="button"><p class="ms-4 text-sm text-gray-700 dark:text-gray-100 truncate"> </p></button>'),Ne=G('<div class="flex items-center justify-center h-full w-full"><!></div>'),Ce=G('<div class="flex flex-col w-full h-full gap-2"><div class="relative w-64 sm:w-96 z-1"><!> <div class="absolute w-full" id="suggestion"><!></div></div> <span> </span> <div class="h-125 min-h-75 w-full z-0"><!></div> <div class="grid sm:grid-cols-2 gap-4 text-sm text-start mt-4"><!></div></div>');function qe(n,e){rt(e,!0);const i=()=>Mt(Tt,"$t",r),[r,s]=Wt();let o=F(e,"asset",3,void 0),u=A(lt([])),t=W(()=>a(u).slice(0,5)),d=A(""),l,m=A(!1),h=A(void 0),b=A(!1),v=A(void 0),g=Pt(_t),C=W(()=>e.point?.lat??o()?.exifInfo?.latitude??void 0),E=W(()=>e.point?.lng??o()?.exifInfo?.longitude??void 0),p=W(()=>a(C)??g?.lat??void 0),_=W(()=>a(E)??g?.lng??void 0),R=W(()=>a(p)&&a(_)?12.5:1);mt(()=>{a(v)&&e.point&&a(v).addClipMapMarker(e.point.lng,e.point.lat)}),mt(()=>{a(d)===""&&f(t,[])});let c=A(lt(e.point??null));const P=w=>{a(c)&&w?(_t.set(a(c)),e.onClose(a(c))):e.onClose()},j=(w,D,M)=>`${w}${D?", "+D:""}${M?", "+M:""}`,xt=()=>{l&&clearTimeout(l),f(m,!0);const w=window.setTimeout(()=>{if(a(d)===""){f(u,[],!0),f(m,!1);return}const D=a(d).split(",").map(M=>M.trim());if(D.length===2){const M=Number.parseFloat(D[0]),U=Number.parseFloat(D[1]);if(!Number.isNaN(M)&&!Number.isNaN(U)&&M>=-90&&M<=90&&U>=-180&&U<=180){f(u,[],!0),f(m,!1),dt(M,U);return}}ae({name:a(d)}).then(M=>{l===w&&(f(u,M,!0),f(m,!1))}).catch(M=>{l===w&&(f(u,[],!0),jt(M,i()("errors.cant_search_places")),f(m,!1))})},Rt);l=w},dt=(w,D)=>{f(b,!0),f(c,{lng:D,lat:w},!0),a(v)?.addClipMapMarker(D,w)},Dt=(w,D)=>{f(c,{lat:w,lng:D},!0),a(v)?.addClipMapMarker(D,w)};{const w=M=>{var U=Ce(),X=T(U),st=T(X);{var yt=L=>{var S=Ee(),O=T(S);O.__click=()=>f(b,!1);var I=T(O);{let N=W(()=>i()("search_places")),k=W(()=>a(t).length===0||a(b));ee(I,{get placeholder(){return a(N)},get showLoadingSpinner(){return a(m)},onReset:()=>f(t,[]),onSearch:xt,get roundedBottom(){return a(k)},get name(){return a(d)},set name(y){f(d,y,!0)}})}x(O),x(S),ft(S,(N,k)=>ne?.(N,k),()=>a(h)),H(L,S)};vt(st,L=>{a(h)&&L(yt)})}var K=$(st,2),It=T(K);{var Ot=L=>{var S=at(),O=V(S);Gt(O,19,()=>a(t),I=>I.latitude+I.longitude,(I,N,k)=>{var y=Se();y.__click=()=>dt(a(N).latitude,a(N).longitude);var B=T(y),tt=T(B,!0);x(B),x(y),J(et=>{Jt(y,1,` flex w-full border-t border-gray-400 dark:border-immich-dark-gray h-14 place-items-center bg-gray-200 p-2 dark:bg-gray-700 hover:bg-gray-300 hover:dark:bg-[#232932] focus:bg-gray-300 focus:dark:bg-[#232932] ${a(k)===a(t).length-1?"rounded-b-lg border-b":""}`),Q(tt,et)},[()=>j(a(N).name,a(N).admin1name,a(N).admin2name)]),H(I,y)}),H(L,S)};vt(It,L=>{a(b)||L(Ot)})}x(K),bt(K,L=>f(h,L),()=>a(h)),ft(K,(L,S)=>Qt?.(L,S),()=>({onOutclick:()=>f(b,!0)})),x(X);var Y=$(X,2),kt=T(Y,!0);x(Y);var Z=$(Y,2),Ht=T(Z);ct(Ht,()=>Ft(()=>import("./DBZgVNgs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])),L=>{var S=at(),O=V(S);ct(O,()=>ie(At),null,I=>{var N=Ne(),k=T(N);Vt(k,{}),x(N),H(I,N)}),H(L,S)},(L,S)=>{var O=W(()=>{var{default:y}=a(S);return{Map:y}}),I=W(()=>a(O).Map),N=at(),k=V(N);{let y=W(()=>a(C)!==void 0&&a(E)!==void 0&&o()?[{id:o().id,lat:a(C),lon:a(E),city:o().exifInfo?.city??null,state:o().exifInfo?.state??null,country:o().exifInfo?.country??null}]:[]),B=W(()=>a(p)&&a(_)?{lat:a(p),lng:a(_)}:void 0);qt(k,()=>a(I),(tt,et)=>{bt(et(tt,{get mapMarkers(){return a(y)},get zoom(){return a(R)},get center(){return a(B)},simplified:!0,clickable:!0,onClickPoint:it=>f(c,it,!0),showSettings:!1,rounded:!0}),it=>f(v,it,!0),()=>a(v))})}H(L,N)}),x(Z);var ut=$(Z,2),Ut=T(ut);{let L=W(()=>a(c)?a(c).lat:a(C)),S=W(()=>a(c)?a(c).lng:a(E));pe(Ut,{get lat(){return a(L)},get lng(){return a(S)},onUpdate:Dt})}x(ut),x(U),J(L=>Q(kt,L),[()=>i()("pick_a_location")]),H(M,U)};let D=W(()=>i()("change_location"));re(n,{confirmColor:"primary",get title(){return a(D)},get icon(){return Bt},size:"medium",onClose:P,prompt:w,$$slots:{prompt:!0}})}nt(),s()}wt(["click"]);export{qe as C,ne as l};

import{h as H,ap as y,g as f,aq as g,u as T,j as Z}from"./BOqQhZBJ.js";import{e as E}from"./Ze2c3aZz.js";var m=!1;class x extends Date{#t=H(super.getTime());#r=new Map;#e=y;constructor(...r){super(...r),m||this.#a()}#a(){m=!0;var r=x.prototype,t=Date.prototype,p=Object.getOwnPropertyNames(t);for(const e of p)(e.startsWith("get")||e.startsWith("to")||e==="valueOf")&&(r[e]=function(...i){if(i.length>0)return f(this.#t),t[e].apply(this,i);var s=this.#r.get(e);if(s===void 0){const n=y;g(this.#e),s=T(()=>(f(this.#t),t[e].apply(this,i))),this.#r.set(e,s),g(n)}return f(s)}),e.startsWith("set")&&(r[e]=function(...i){var s=t[e].apply(this,i);return Z(this.#t,t.getTime.call(this)),s})}}function k(a,{from:r,to:t},p={}){var{delay:e=0,duration:i=o=>Math.sqrt(o)*120,easing:s=E}=p,n=getComputedStyle(a),w=n.transform==="none"?"":n.transform,[v,c]=n.transformOrigin.split(" ").map(parseFloat);v/=a.clientWidth,c/=a.clientHeight;var d=F(a),S=a.clientWidth/t.width/d,O=a.clientHeight/t.height/d,W=r.left+r.width*v,_=r.top+r.height*c,$=t.left+t.width*v,z=t.top+t.height*c,u=(W-$)*S,l=(_-z)*O,C=r.width/t.width,q=r.height/t.height;return{delay:e,duration:typeof i=="function"?i(Math.sqrt(u*u+l*l)):i,easing:s,css:(o,h)=>{var M=h*u,b=h*l,j=o+h*C,D=o+h*q;return`transform: ${w} translate(${M}px, ${b}px) scale(${j}, ${D});`}}}function F(a){if("currentCSSZoom"in a)return a.currentCSSZoom;for(var r=a,t=1;r!==null;)t*=+getComputedStyle(r).zoom,r=r.parentElement;return t}export{x as S,k as f};

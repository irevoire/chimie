import{s as b}from"../chunks/FIvvbHQR.js";import{r as _,R as n}from"../chunks/BeWG-__C.js";import{g as B,$ as E}from"../chunks/DdY9CyNE.js";import{i as F}from"../chunks/Bal6IUVU.js";import{l as H}from"../chunks/Cx5lmlld.js";import"../chunks/DsnmJJEf.js";import"../chunks/69_IOA4Y.js";import{p as O,a as T,c as $,n as q,t as g,s as y,f as C,r as h,g as D,ae as I}from"../chunks/BOqQhZBJ.js";import{s as v}from"../chunks/BufZg4h2.js";import{f as l,t as L,a}from"../chunks/CnteGC4G.js";import{i as U}from"../chunks/CMtyP6CA.js";import{s as G,a as J}from"../chunks/B227BkWK.js";import{A as K}from"../chunks/auPRkcHw.js";import{w as N}from"../chunks/Jagi0WJL.js";import{h as Q}from"../chunks/D4fmOnVC.js";import{x as V}from"../chunks/DeYUhNiz.js";import{H as W,S as X}from"../chunks/Ze2c3aZz.js";import{B as M}from"../chunks/LrV5ZTyj.js";const Y=!1,Z=!0,tt=(async({fetch:c})=>{try{await F(c),b.value.maintenanceMode&&_(307,n.maintenanceMode()),await H()&&_(307,n.photos()),b.value.isInitialized&&_(307,n.login())}catch(t){if(t?.status===307)throw t}const s=await B();return{meta:{title:s("welcome")+" ðŸŽ‰",description:s("immich_web_interface")}}}),Mt=Object.freeze(Object.defineProperty({__proto__:null,csr:Z,load:tt,ssr:Y},Symbol.toStringTag,{value:"Module"}));var et=l('<span class="px-2 font-semibold"> </span>'),rt=l('<span class="px-2 font-semibold"> </span>'),at=l("<!> <!>",1),st=l('<div class="flex flex-col place-items-center text-center gap-12"><!> <!></div>');function Pt(c,s){O(s,!1);const t=()=>J(E,"$t",P),[P,z]=G();async function S(){try{N.serverRestarting.set({isMaintenanceMode:!0}),await V()}catch(m){Q(m,t()("admin.maintenance_start_error"))}}U(),K(c,{children:(m,ot)=>{var p=st(),x=$(p);W(x,{size:"large",color:"primary",tag:"h1",children:(f,R)=>{q();var e=L();g(o=>v(e,o),[()=>t()("welcome_to_immich")]),a(f,e)},$$slots:{default:!0}});var k=y(x,2);X(k,{children:(f,R)=>{var e=at(),o=C(e);{let d=I(()=>n.register());M(o,{get href(){return D(d)},size:"large",shape:"round",children:(w,i)=>{var r=et(),u=$(r,!0);h(r),g(A=>v(u,A),[()=>t()("getting_started")]),a(w,r)},$$slots:{default:!0}})}var j=y(o,2);M(j,{size:"small",shape:"round",variant:"ghost",onclick:S,children:(d,w)=>{var i=rt(),r=$(i,!0);h(i),g(u=>v(r,u),[()=>t()("maintenance_restore_from_backup")]),a(d,i)},$$slots:{default:!0}}),a(f,e)},$$slots:{default:!0}}),h(p),a(m,p)},$$slots:{default:!0}}),T(),z()}export{Pt as component,Mt as universal};

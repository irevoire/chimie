import{a as de}from"../chunks/Cx5lmlld.js";import{g as ne,$ as ve}from"../chunks/DdY9CyNE.js";import{y as ce,z as fe,B as pe}from"../chunks/DeYUhNiz.js";import"../chunks/DsnmJJEf.js";import{p as ue,i as _e,f as F,s,a as ge,g as e,u as O,c as t,t as T,r as a}from"../chunks/BOqQhZBJ.js";import{s as b}from"../chunks/BufZg4h2.js";import{f as h,a as d,c as X}from"../chunks/CnteGC4G.js";import{i as A}from"../chunks/QS5y7wlf.js";import{e as Y}from"../chunks/D4fmOnVC.js";import{s as w,a as he,ag as xe}from"../chunks/LrV5ZTyj.js";import{s as be,a as we}from"../chunks/B227BkWK.js";import{I as ye}from"../chunks/izWpGtDw.js";import{U as ke}from"../chunks/CwTmTzRk.js";import{O as $e}from"../chunks/Di6OVBka.js";import{E as Pe}from"../chunks/0tdQcI5E.js";import{S as Z}from"../chunks/0U8rfwJB.js";import{R as C}from"../chunks/BeWG-__C.js";import{r as Se,t as je}from"../chunks/Jagi0WJL.js";const ze=(async({url:E})=>{await de(E);const[n,v]=await Promise.all([ce(),fe({withHidden:!1})]),U=await ne();return{items:n,response:v,meta:{title:U("explore")}}}),et=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));var Ie=h('<div class="absolute top-2 start-2"><!></div>'),Fe=h('<a class="text-center relative"><!> <!> <p class="mt-2 text-ellipsis text-sm font-medium dark:text-white"> </p></a>'),Oe=h('<div class="mb-6 mt-2"><div class="flex justify-between"><p class="mb-4 font-medium dark:text-immich-dark-fg"> </p> <a class="pe-4 text-sm font-medium hover:text-immich-primary dark:text-immich-dark-fg dark:hover:text-immich-dark-primary" draggable="false"> </a></div> <!></div>'),Te=h('<a class="relative" draggable="false"><div class="flex justify-center overflow-hidden rounded-xl brightness-75 filter"><img class="object-cover aspect-square w-full"/></div> <span class="absolute bottom-2 w-full text-ellipsis px-1 text-center text-sm font-medium capitalize text-white backdrop-blur-[1px] hover:cursor-pointer"> </span></a>'),Ae=h('<div class="mb-6 mt-2"><div class="flex justify-between"><p class="mb-4 font-medium dark:text-immich-dark-fg"> </p> <a class="pe-4 text-sm font-medium hover:text-immich-primary dark:text-immich-dark-fg dark:hover:text-immich-dark-primary" draggable="false"> </a></div> <!></div>'),Ce=h("<!> <!> <!>",1),Ee=h("<!> <!>",1);function tt(E,n){ue(n,!0);const v=()=>we(ve,"$t",U),[U,ee]=be(),te=(y,k)=>y.find(j=>j.fieldName===k)?.items||[];let M=O(()=>te(n.data.items,"exifInfo.city")),K=_e(n.data.response.people),L=O(()=>n.data.response.total>0);const ae=({id:y})=>{for(const k of K)k.id===y&&(k.updatedAt=new Date().toISOString())};var Q=Ee(),V=F(Q);$e(V,{onPersonThumbnailReady:ae});var re=s(V,2);ke(re,{get title(){return n.data.meta.title},children:(y,k)=>{var R=Ce(),j=F(R);{var ie=r=>{var o=Oe(),c=t(o),f=t(c),D=t(f,!0);a(f);var p=s(f,2),H=t(p,!0);a(p),a(c);var q=s(c,2);Z(q,{class:"grid grid-flow-col md:grid-auto-fill-28 grid-auto-fill-20 gap-x-4",children:(u,_)=>{let B=()=>_?.().itemCount;var P=X(),N=F(P);Y(N,17,()=>K.slice(0,B()),g=>g.id,(g,i)=>{var l=Fe(),x=t(l);{let m=O(()=>Se(e(i)));ye(x,{circle:!0,shadow:!0,get url(){return e(m)},get altText(){return e(i).name},widthStyle:"100%"})}var S=s(x,2);{var z=m=>{var J=Ie(),me=t(J);he(me,{get icon(){return xe},size:"24",class:"text-white"}),a(J),d(m,J)};A(S,m=>{e(i).isFavorite&&m(z)})}var I=s(S,2),G=t(I,!0);a(I),a(l),T(m=>{w(l,"href",m),b(G,e(i).name)},[()=>C.viewPerson(e(i))]),d(g,l)}),d(u,P)},$$slots:{default:!0}}),a(o),T(($,u,_)=>{b(D,$),w(p,"href",u),b(H,_)},[()=>v()("people"),()=>C.people(),()=>v()("view_all")]),d(r,o)};A(j,r=>{e(L)&&r(ie)})}var W=s(j,2);{var se=r=>{var o=Ae(),c=t(o),f=t(c),D=t(f,!0);a(f);var p=s(f,2),H=t(p,!0);a(p),a(c);var q=s(c,2);Z(q,{class:"grid grid-flow-col md:grid-auto-fill-36 grid-auto-fill-28 gap-x-4",children:(u,_)=>{let B=()=>_?.().itemCount;var P=X(),N=F(P);Y(N,17,()=>e(M).slice(0,B()),g=>g.data.id,(g,i)=>{var l=Te(),x=t(l),S=t(x);a(x);var z=s(x,2),I=t(z,!0);a(z),a(l),T((G,m)=>{w(l,"href",G),w(S,"src",m),w(S,"alt",e(i).value),b(I,e(i).value)},[()=>C.search({city:e(i).value}),()=>je({id:e(i).data.id,size:pe.Thumbnail})]),d(g,l)}),d(u,P)},$$slots:{default:!0}}),a(o),T(($,u,_)=>{b(D,$),w(p,"href",u),b(H,_)},[()=>v()("places"),()=>C.places(),()=>v()("view_all")]),d(r,o)};A(W,r=>{e(M).length>0&&r(se)})}var oe=s(W,2);{var le=r=>{{let o=O(()=>v()("no_explore_results_message"));Pe(r,{get text(){return e(o)},class:"mt-10 mx-auto"})}};A(oe,r=>{!e(L)&&e(M).length===0&&r(le)})}d(y,R)},$$slots:{default:!0}}),d(E,Q),ge(),ee()}export{tt as component,et as universal};

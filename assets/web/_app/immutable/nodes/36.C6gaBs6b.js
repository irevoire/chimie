import{a as V}from"../chunks/Cx5lmlld.js";import{g as R,$ as k}from"../chunks/DdY9CyNE.js";import"../chunks/DsnmJJEf.js";import{p as j,n as W,t as B,g as s,h as F,a as O,j as w,f as I,s as b,c as X,r as Y,u as m}from"../chunks/BOqQhZBJ.js";import{s as U}from"../chunks/BufZg4h2.js";import{t as Z,a as _,f as x}from"../chunks/CnteGC4G.js";import{i as P}from"../chunks/QS5y7wlf.js";import{a as z,s as H}from"../chunks/B227BkWK.js";import{g as tt}from"../chunks/C4XZXykC.js";import{U as et}from"../chunks/CwTmTzRk.js";import{E as rt}from"../chunks/0tdQcI5E.js";import{D as st}from"../chunks/DbL3L5r_.js";import{g as ot}from"../chunks/Dw326QmB.js";import{t as M,h as E}from"../chunks/D4fmOnVC.js";import{a$ as at,b2 as nt,b3 as it}from"../chunks/DeYUhNiz.js";import{B as lt,cw as J,a3 as ct}from"../chunks/LrV5ZTyj.js";import{S as mt}from"../chunks/KeI0xpXW.js";import{A as ut}from"../chunks/DYbeYGSx.js";import{T as pt}from"../chunks/-MdfcuX_.js";import{f as C}from"../chunks/D5h9ps2j.js";import{s as ft}from"../chunks/FIvvbHQR.js";import"../chunks/C2I_EQjW.js";import{h as dt}from"../chunks/Jagi0WJL.js";import{R as _t}from"../chunks/BeWG-__C.js";import{m as K}from"../chunks/C20f7eOz.js";import{A as gt}from"../chunks/DeL_lkPB.js";const ht=(async({url:e})=>(await V(e),{meta:{title:(await R())("trash")}})),Yt=Object.freeze(Object.defineProperty({__proto__:null,load:ht},Symbol.toStringTag,{value:"Module"})),vt="/_app/immutable/assets/empty-3.CQJfKgye.svg";function $t(e,o){j(o,!0);const t=()=>z(k,"$t",g),[g,h]=H(),{getAssets:i,clearSelect:v}=ot();let r=F(!1);lt(e,{get leadingIcon(){return J},get disabled(){return s(r)},size:"medium",color:"secondary",variant:"ghost",onclick:async()=>{w(r,!0);try{const a=[...i()].map(u=>u.id);await at({bulkIdsDto:{ids:a}}),o.onRestore?.(a),M.success(t()("assets_restored_count",{values:{count:a.length}})),v()}catch(a){E(a,t()("errors.unable_to_restore_assets"))}finally{w(r,!1)}},children:(a,u)=>{W();var p=Z();B(f=>U(p,f),[()=>t()("restore")]),_(a,p)},$$slots:{default:!0}}),O(),h()}const yt=e=>{const o={title:e("restore_all"),icon:J,onAction:()=>bt()},t={title:e("empty_trash"),icon:ct,onAction:()=>At()};return{RestoreAll:o,Empty:t}},At=async()=>{const e=await R();if(await K.showDialog({prompt:e("empty_trash_confirmation")}))try{const{count:t}=await nt();M.success(e("assets_permanently_deleted_count",{values:{count:t}}))}catch(t){E(t,e("errors.unable_to_empty_trash"))}},bt=async()=>{const e=await R();if(await K.showDialog({prompt:e("assets_restore_confirmation")}))try{const{count:t}=await it();M.success(e("assets_restored_count",{values:{count:t}}))}catch(t){E(t,e("errors.unable_to_restore_trash"))}};var wt=x('<p class="font-medium text-gray-500/60 dark:text-gray-300/60 p-4"> </p>'),Rt=x("<!> <!> <!>",1),xt=x("<!> <!>",1);function Zt(e,o){j(o,!0);const t=()=>z(k,"$t",g),[g,h]=H();let i=F(void 0);const v={isTrashed:!0},r=new gt;C.value.trash||dt(tt(_t.photos()));const T=()=>{if(r.selectionActive){r.clearMultiselect();return}},a=m(()=>yt(t())),u=m(()=>s(a).Empty),p=m(()=>s(a).RestoreAll);var f=xt(),D=I(f);{var N=l=>{{let $=m(()=>r.selectionActive?[]:[s(u),s(p)]);et(l,{get hideNavbar(){return r.selectionActive},get actions(){return s($)},get title(){return o.data.meta.title},scrollbar:!1,children:(S,y)=>{pt(S,{enableRouting:!0,get options(){return v},get assetInteraction(){return r},onEscape:T,get timelineManager(){return s(i)},set timelineManager(n){w(i,n,!0)},empty:n=>{{let d=m(()=>t()("trash_no_results_message"));rt(n,{get text(){return s(d)},get src(){return vt},class:"mt-10 mx-auto"})}},children:(n,d)=>{var c=wt(),G=X(c,!0);Y(c),B(L=>U(G,L),[()=>t()("trashed_items_will_be_permanently_deleted_after",{values:{days:ft.value.trashDays}})]),_(n,c)},$$slots:{empty:!0,default:!0}})},$$slots:{default:!0}})}};P(D,l=>{C.value.trash&&l(N)})}var Q=b(D,2);{var q=l=>{ut(l,{get assets(){return r.selectedAssets},clearSelect:()=>r.clearMultiselect(),children:($,S)=>{var y=Rt(),A=I(y);mt(A,{get timelineManager(){return s(i)},get assetInteraction(){return r}});var n=b(A,2);st(n,{force:!0,onAssetDelete:c=>s(i).removeAssets(c)});var d=b(n,2);$t(d,{onRestore:c=>s(i).removeAssets(c)}),_($,y)},$$slots:{default:!0}})};P(Q,l=>{r.selectionActive&&l(q)})}_(e,f),O(),h()}export{Zt as component,Yt as universal};

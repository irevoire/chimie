import{r as G,R as J}from"../chunks/BeWG-__C.js";import{a as K,u as k}from"../chunks/Cx5lmlld.js";import{g as N,$ as Q}from"../chunks/DdY9CyNE.js";import{d as V,p as X,a as Y,f as q,t as h,s as d,c as Z,j as B,g as t,h as C,u as m,n as v,r as tt}from"../chunks/BOqQhZBJ.js";import"../chunks/DsnmJJEf.js";import{s as w,e as et}from"../chunks/BufZg4h2.js";import{f as S,t as P,a}from"../chunks/CnteGC4G.js";import{s as rt,a as H}from"../chunks/B227BkWK.js";import{A as st}from"../chunks/auPRkcHw.js";import{a as at}from"../chunks/C2I_EQjW.js";import{P as ot}from"../chunks/DeYUhNiz.js";import{A as lt}from"../chunks/BEiKRg21.js";import{S as nt}from"../chunks/Ze2c3aZz.js";import{T as O,B as ut}from"../chunks/LrV5ZTyj.js";import{F as R}from"../chunks/DzmAA-7p.js";import{P as U}from"../chunks/DHEjuV7w.js";import{H as it}from"../chunks/o4H9mija.js";const dt=(async({url:x})=>(await K(x),V(k).shouldChangePassword||G(307,J.photos()),{meta:{title:(await N())("change_password")}})),qt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));var mt=S("<!> <!>",1),pt=S("<!> <!>",1),$t=S('<form class="flex flex-col gap-4"><!> <!> <!> <!></form>');function Bt(x,b){X(b,!0);const o=()=>H(Q,"$t",T),A=()=>H(k,"$user",T),[T,D]=rt();let p=C(""),n=C("");const y=m(()=>t(p)===t(n)&&t(n).length>0),I=m(()=>t(n).length===0||t(y)?"":o()("password_does_not_match")),L=async()=>{t(y)&&(await ot({userUpdateMeDto:{password:t(p)}}),await at.logout())};st(x,{get title(){return b.data.meta.title},children:(W,ft)=>{var $=$t(),j=Z($);lt(j,{color:"primary",size:"small",class:"mb-2",children:(r,l)=>{nt(r,{gap:4,children:(f,e)=>{var s=mt(),c=q(s);O(c,{children:(_,g)=>{v();var i=P();h(M=>w(i,M),[()=>o()("hi_user",{values:{name:A().name,email:A().email}})]),a(_,i)},$$slots:{default:!0}});var u=d(c,2);O(u,{children:(_,g)=>{v();var i=P();h(M=>w(i,M),[()=>o()("change_password_description")]),a(_,i)},$$slots:{default:!0}}),a(f,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var z=d(j,2);{let r=m(()=>o()("new_password"));R(z,{get label(){return t(r)},required:!0,children:(l,f)=>{U(l,{autocomplete:"new-password",get value(){return t(p)},set value(e){B(p,e,!0)}})},$$slots:{default:!0}})}var F=d(z,2);{let r=m(()=>o()("confirm_password"));R(F,{get label(){return t(r)},required:!0,children:(l,f)=>{var e=pt(),s=q(e);U(s,{autocomplete:"new-password",get value(){return t(n)},set value(u){B(n,u,!0)}});var c=d(s,2);it(c,{color:"danger",children:(u,_)=>{v();var g=P();h(()=>w(g,t(I))),a(u,g)},$$slots:{default:!0}}),a(l,e)},$$slots:{default:!0}})}var E=d(F,2);{let r=m(()=>!t(y));ut(E,{class:"mt-2",type:"submit",size:"large",shape:"round",fullWidth:!0,get disabled(){return t(r)},children:(l,f)=>{v();var e=P();h(s=>w(e,s),[()=>o()("to_change_password")]),a(l,e)},$$slots:{default:!0}})}tt($),et("submit",$,L),a(W,$)},$$slots:{default:!0}}),Y(),D()}export{Bt as component,qt as universal};

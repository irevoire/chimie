import{R as V}from"../chunks/BeWG-__C.js";import{a as K}from"../chunks/Cx5lmlld.js";import{g as N,$ as Q}from"../chunks/DdY9CyNE.js";import{C as W,R as X}from"../chunks/DeYUhNiz.js";import"../chunks/DsnmJJEf.js";import{p as Y,a as Z,g as n,u as tt,s as v,c as s,t as f,f as F,h as L,j as y,r as o,n as et}from"../chunks/BOqQhZBJ.js";import{s as j}from"../chunks/BufZg4h2.js";import{f as _,t as at,a as l}from"../chunks/CnteGC4G.js";import{i as R}from"../chunks/QS5y7wlf.js";import{B as rt,a as O,aC as st,a7 as ot,G as it,ab as nt,a8 as lt,u as I,q as ct}from"../chunks/LrV5ZTyj.js";import{s as dt,a as ut}from"../chunks/B227BkWK.js";import{g as T}from"../chunks/C4XZXykC.js";import{A as mt}from"../chunks/auPRkcHw.js";import{P as pt,a as vt}from"../chunks/Do9Yq4PR.js";import{h as ft}from"../chunks/D4fmOnVC.js";const _t=(async({url:g})=>{await K(g);const{pinCode:c}=await W();return{meta:{title:(await N())("pin_verification")},hasPinCode:!!c,continueUrl:g.searchParams.get("continue")||V.locked()}}),It=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var gt=_("<div><!></div>"),ht=_("<div><!></div>"),xt=_('<!> <p class="text-center text-sm" style="text-wrap: pretty;"> </p> <!>',1),yt=_('<div class="text-primary"><!></div> <p class="text-center text-sm mb-4" style="text-wrap: pretty;"> </p> <!>',1),wt=_('<div class="flex items-center justify-center"><div class="w-96 flex flex-col gap-6 items-center justify-center"><!> <div><!></div></div></div>');function Tt(g,c){Y(c,!0);const d=()=>ut(Q,"$t",q),[q,D]=dt();let z=L(!1),w=L(!1),b=tt(()=>c.data.hasPinCode),A=L("");const E=async C=>{try{await X({sessionUnlockDto:{pinCode:C}}),y(z,!0),await new Promise(h=>setTimeout(h,1e3)),await T(c.data.continueUrl)}catch(h){ft(h,d()("wrong_pin_code")),y(w,!0)}};mt(g,{withHeader:!1,children:(C,h)=>{var P=wt(),U=s(P),B=s(U);{var G=r=>{var i=xt(),e=F(i);{var u=t=>{var a=gt(),x=s(a);O(x,{get icon(){return ot},size:"64",class:"text-success/90"}),o(a),it(1,a,()=>nt,()=>({duration:200})),l(t,a)},m=t=>{var a=ht();let x;var J=s(a);O(J,{get icon(){return lt},size:"64"}),o(a),f(()=>x=I(a,1,"",null,x,{"text-danger":n(w),"text-primary":!n(w)})),l(t,a)};R(e,t=>{n(z)?t(u):t(m,!1)})}var p=v(e,2),k=s(p,!0);o(p);var S=v(p,2);pt(S,{type:"password",autofocus:!0,label:"",tabindexStart:1,pinLength:6,onFilled:E,get value(){return n(A)},set value(t){y(A,t,!0)}}),f(t=>j(k,t),[()=>d()("enter_your_pin_code_subtitle")]),l(r,i)},H=r=>{var i=yt(),e=F(i),u=s(e);O(u,{get icon(){return st},size:"64"}),o(e);var m=v(e,2),p=s(m,!0);o(m);var k=v(m,2);vt(k,{showLabel:!1,onCreated:()=>y(b,!0)}),f(S=>j(p,S),[()=>d()("new_pin_code_subtitle")]),l(r,i)};R(B,r=>{n(b)?r(G):r(H,!1)})}var $=v(B,2),M=s($);rt(M,{type:"button",color:"secondary",onclick:()=>T(V.photos()),children:(r,i)=>{et();var e=at();f(u=>j(e,u),[()=>d()("cancel")]),l(r,e)},$$slots:{default:!0}}),o($),o(U),o(P),f(()=>I($,1,ct(n(b)?"":"flex w-full items-start"))),l(C,P)},$$slots:{default:!0}}),Z(),D()}export{Tt as component,It as universal};

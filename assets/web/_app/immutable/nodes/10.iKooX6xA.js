import{a as fe,r as pe}from"../chunks/Cx5lmlld.js";import{g as ve,$ as ge}from"../chunks/DdY9CyNE.js";import{p as te}from"../chunks/DeYUhNiz.js";import"../chunks/DsnmJJEf.js";import{p as _e,h as he,i as Pe,f as _,g as e,u as n,t as h,s as d,a as we,j as Z,b as be,n as U,c as xe,r as ye}from"../chunks/BOqQhZBJ.js";import{s as P}from"../chunks/BufZg4h2.js";import{f as b,t as w,a as t,c as Ae,s as Ue}from"../chunks/CnteGC4G.js";import{i as Ce}from"../chunks/QS5y7wlf.js";import{e as Te}from"../chunks/D4fmOnVC.js";import{s as De,a as ee}from"../chunks/B227BkWK.js";import{A as Ie}from"../chunks/4in-FAdc.js";import{O as ze}from"../chunks/Di6OVBka.js";import{R as Se}from"../chunks/BeWG-__C.js";import{g as qe,a as Be}from"../chunks/52C7z9ON.js";import{q as Re,l as je}from"../chunks/Jagi0WJL.js";import{a as ke,ad as Oe,ac as Le}from"../chunks/LrV5ZTyj.js";import{C as Me}from"../chunks/BCL4P6ef.js";import{C as Fe}from"../chunks/WscBzvwE.js";import{T as He,a as Ee,b as j,c as Ge,d as Je,e as z}from"../chunks/Bn2SVuxV.js";import{L as Ke}from"../chunks/Dj0AsE1j.js";import{C as Ne}from"../chunks/BPix1jPq.js";const Qe=(async({url:S})=>{await fe(S,{admin:!0}),await pe();const f=await te({withDeleted:!0}),l=await ve();return{users:f,meta:{title:l("admin.user_management")}}}),xt=Object.freeze(Object.defineProperty({__proto__:null,load:Qe},Symbol.toStringTag,{value:"Module"}));var Ve=b("<!> <!> <!>",1),We=b('<div class="container mx-auto flex flex-wrap justify-center"><!></div>'),Xe=b("<!> <!> <!> <!>",1),Ye=b("<!> <!>",1),Ze=b("<!> <!>",1),et=b("<!> <!> <!>",1);function yt(S,f){_e(f,!0);const l=()=>ee(ge,"$t",k),re=()=>ee(je,"$locale",k),[k,ae]=De();let p=he(Pe(f.data.users));const C=async r=>{const a=e(p).findIndex(({id:x})=>x===r.id);a===-1?Z(p,await te({withDeleted:!0}),!0):e(p)[a]=r},se=({id:r})=>{Z(p,e(p).filter(({id:a})=>a!==r),!0)},oe=n(()=>Be(l())),O=n(()=>e(oe).Create),ne=r=>{const{Detail:a,Update:x,Delete:H,ResetPassword:q,ResetPinCode:E}=qe(l(),r);return[a,x,q,E,Le.Divider,H]},u={column1:"w-8/12 md:w-5/12 lg:w-4/12",column2:"hidden md:block md:w-5/12 lg:w-4/12",column3:"hidden lg:block lg:w-2/12",column4:"w-4/12 md:w-2/12 flex justify-end"};var L=et(),M=_(L);ze(M,{onUserAdminCreate:C,onUserAdminUpdate:C,onUserAdminDelete:C,onUserAdminRestore:C,onUserAdminDeleted:se});var F=d(M,2);{let r=n(()=>l()("users")),a=n(()=>[e(O)]);Me(F,{get name(){return e(r)},get actions(){return e(a)}})}var le=d(F,2);{let r=n(()=>[{title:f.data.meta.title}]),a=n(()=>[e(O)]);Ie(le,{get breadcrumbs(){return e(r)},get actions(){return e(a)},children:(x,H)=>{Fe(x,{center:!0,size:"large",children:(q,E)=>{var G=Ze(),J=_(G);He(J,{class:"mt-4",striped:!0,spacing:"small",size:"small",children:(de,tt)=>{var K=Ye(),N=_(K);Ee(N,{children:(B,ue)=>{var y=Ve(),T=_(y);j(T,{get class(){return u.column1},children:(c,D)=>{U();var i=w();h(m=>P(i,m),[()=>l()("name")]),t(c,i)},$$slots:{default:!0}});var v=d(T,2);j(v,{get class(){return u.column2},children:(c,D)=>{U();var i=w();h(m=>P(i,m),[()=>l()("email")]),t(c,i)},$$slots:{default:!0}});var s=d(v,2);j(s,{get class(){return u.column3},children:(c,D)=>{U();var i=w();h(m=>P(i,m),[()=>l()("has_quota")]),t(c,i)},$$slots:{default:!0}}),t(B,y)},$$slots:{default:!0}});var me=d(N,2);Ge(me,{children:(B,ue)=>{var y=Ae(),T=_(y);Te(T,17,()=>e(p),v=>v.id,(v,s)=>{{let c=n(()=>e(s).deletedAt?"danger":void 0);Je(v,{get color(){return e(c)},children:(D,i)=>{var m=Xe(),Q=_(m);z(Q,{get class(){return u.column1},children:($,R)=>{{let o=n(()=>Se.viewUser(e(s)));Ke($,{get href(){return e(o)},children:(A,X)=>{U();var I=w();h(()=>P(I,e(s).name)),t(A,I)},$$slots:{default:!0}})}},$$slots:{default:!0}});var V=d(Q,2);z(V,{get class(){return u.column2},children:($,R)=>{U();var o=w();h(()=>P(o,e(s).email)),t($,o)},$$slots:{default:!0}});var W=d(V,2);z(W,{get class(){return u.column3},children:($,R)=>{var o=We(),A=xe(o);{var X=g=>{var Y=w();h($e=>P(Y,$e),[()=>Re(e(s).quotaSizeInBytes,re())]),t(g,Y)},I=g=>{ke(g,{get icon(){return Oe},size:"16"})};Ce(A,g=>{e(s).quotaSizeInBytes!==null&&e(s).quotaSizeInBytes>=0?g(X):g(I,!1)})}ye(o),t($,o)},$$slots:{default:!0}});var ce=d(W,2);z(ce,{get class(){return u.column4},children:($,R)=>{{let o=n(()=>l()("open")),A=n(()=>ne(e(s)));Ne($,{color:"primary",get"aria-label"(){return e(o)},get items(){return e(A)}})}},$$slots:{default:!0}}),t(D,m)},$$slots:{default:!0}})}}),t(B,y)},$$slots:{default:!0}}),t(de,K)},$$slots:{default:!0}});var ie=d(J,2);Ue(ie,()=>f.children??be),t(q,G)},$$slots:{default:!0}})},$$slots:{default:!0}})}t(S,L),we(),ae()}export{yt as component,xt as universal};

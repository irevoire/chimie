import{r as U,R as M}from"../chunks/BeWG-__C.js";import{a as F}from"../chunks/Cx5lmlld.js";import{g as N,$ as z}from"../chunks/DdY9CyNE.js";import{C as Y,A as q}from"../chunks/DeYUhNiz.js";import"../chunks/DsnmJJEf.js";import{p as G,f as d,j as H,g as t,h as J,u as n,s as r,a as K}from"../chunks/BOqQhZBJ.js";import{f as _,a as g}from"../chunks/CnteGC4G.js";import{i as Q}from"../chunks/QS5y7wlf.js";import{s as W,a as X}from"../chunks/B227BkWK.js";import{g as Z}from"../chunks/C4XZXykC.js";import{U as tt}from"../chunks/CwTmTzRk.js";import{O as et}from"../chunks/Di6OVBka.js";import{B as ot}from"../chunks/Ydc33-3A.js";import{E as rt}from"../chunks/0tdQcI5E.js";import{C as st,a as at}from"../chunks/Td-V8-DQ.js";import{D as nt}from"../chunks/DbL3L5r_.js";import{D as it}from"../chunks/CAJBNUk5.js";import{S as mt}from"../chunks/KeI0xpXW.js";import{S as lt}from"../chunks/P5k8Owjv.js";import{A as ct}from"../chunks/DYbeYGSx.js";import{T as ut}from"../chunks/-MdfcuX_.js";import{A as pt}from"../chunks/BNLYq5HQ.js";import"../chunks/C2I_EQjW.js";import"../chunks/Jagi0WJL.js";import{g as ft}from"../chunks/CnynI8N_.js";import{A as dt}from"../chunks/DeL_lkPB.js";import{af as gt}from"../chunks/LrV5ZTyj.js";const _t=(async({url:i})=>{await F(i);const{isElevated:l,pinCode:s}=await Y();return(!l||!s)&&U(307,M.pinPrompt({continue:i.pathname+i.search})),{meta:{title:(await N())("locked_folder")}}}),Jt=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var vt=_("<!> <!> <!> <!>",1),$t=_("<!> <!> <!>",1),At=_("<!> <!> <!>",1);function Kt(i,l){G(l,!0);const s=()=>X(z,"$t",v),[v,k]=W();let m=J(void 0);const E={visibility:q.Locked},e=new dt,L=()=>{if(e.selectionActive){e.clearMultiselect();return}},w=o=>{e.clearMultiselect(),t(m).removeAssets(o)},D=n(()=>ft(s())),T=n(()=>t(D).LockSession),C=async()=>{await Z(M.photos())};var $=At(),A=d($);et(A,{onSessionLocked:C});var h=r(A,2);{let o=n(()=>[t(T)]);tt(h,{get title(){return l.data.meta.title},get actions(){return t(o)},get hideNavbar(){return e.selectionActive},scrollbar:!1,children:(u,P)=>{ut(u,{enableRouting:!0,get options(){return E},get assetInteraction(){return e},onEscape:L,get removeAction(){return pt.SET_VISIBILITY_TIMELINE},get timelineManager(){return t(m)},set timelineManager(a){H(m,a,!0)},empty:a=>{{let c=n(()=>s()("no_locked_photos_message")),f=n(()=>s()("nothing_here_yet"));rt(a,{get text(){return t(c)},get title(){return t(f)},class:"mt-10 mx-auto"})}},$$slots:{empty:!0}})},$$slots:{default:!0}})}var x=r(h,2);{var O=o=>{ct(o,{get assets(){return e.selectedAssets},clearSelect:()=>e.clearMultiselect(),children:(u,P)=>{var p=$t(),a=d(p);mt(a,{withText:!0,get timelineManager(){return t(m)},get assetInteraction(){return e}});var c=r(a,2);lt(c,{unlock:!0,onVisibilitySet:w});var f=r(c,2);{let V=n(()=>s()("menu"));ot(f,{get icon(){return gt},get title(){return t(V)},children:(B,ht)=>{var S=vt(),y=d(S);it(y,{menuItem:!0});var I=r(y,2);st(I,{menuItem:!0});var b=r(I,2);at(b,{menuItem:!0});var j=r(b,2);nt(j,{menuItem:!0,force:!0,onAssetDelete:R=>t(m).removeAssets(R)}),g(B,S)},$$slots:{default:!0}})}g(u,p)},$$slots:{default:!0}})};Q(x,o=>{e.selectionActive&&o(O)})}g(i,$),K(),k()}export{Kt as component,Jt as universal};

import{r as x2,R as V}from"../chunks/BeWG-__C.js";import{a as w2}from"../chunks/Cx5lmlld.js";import{g as P2,$ as A2}from"../chunks/DdY9CyNE.js";import{w as C2,t as M2}from"../chunks/DeYUhNiz.js";import"../chunks/DsnmJJEf.js";import{p as z2,h as D2,i as F2,f as B,g as t,u as e,t as G,c as l,s as o,a as L2,j as S2,b as H2,n as T,r as s}from"../chunks/BOqQhZBJ.js";import{s as R}from"../chunks/BufZg4h2.js";import{f as h,t as W,a as n,s as O2,c as k2}from"../chunks/CnteGC4G.js";import{i as U2}from"../chunks/QS5y7wlf.js";import{e as d2}from"../chunks/D4fmOnVC.js";import{s as j2,a as B2}from"../chunks/B227BkWK.js";import{g as G2}from"../chunks/C4XZXykC.js";import{A as c2}from"../chunks/Dtu3nHzq.js";import{A as T2}from"../chunks/4in-FAdc.js";import{O as R2}from"../chunks/Di6OVBka.js";import{S as I}from"../chunks/Ca9QUCuW.js";import{E as W2}from"../chunks/0tdQcI5E.js";import{T as D}from"../chunks/Bxju487m.js";import{L as I2,c as V2,d as q2,g as J2}from"../chunks/pgDeqfeq.js";import{o as K2}from"../chunks/Jagi0WJL.js";import{aD as N2,aE as Q2,aF as X2,aG as Y2,aH as Z2}from"../chunks/LrV5ZTyj.js";import{C as t0}from"../chunks/BCL4P6ef.js";import{C as e0}from"../chunks/WscBzvwE.js";import{H as r0}from"../chunks/Ze2c3aZz.js";import{C as f2}from"../chunks/CgxV3crx.js";import{m as a0}from"../chunks/C20f7eOz.js";const o0=(async({params:{id:w},url:u})=>{await w2(u,{admin:!0});let r;try{r=await C2({id:w})}catch{x2(307,V.libraries())}const F=await M2({id:w}),L=await P2();return{library:r,statistics:F,meta:{title:L("admin.library_details")}}}),G0=Object.freeze(Object.defineProperty({__proto__:null,load:o0},Symbol.toStringTag,{value:"Module"})),s0="data:image/svg+xml,%3csvg%20width='900'%20height='600'%20viewBox='0%200%20900%20600'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='transparent'%20d='M0%200h900v600H0z'/%3e%3cpath%20d='M718.697%20359.789c2.347%2069.208-149.828%20213.346-331.607%20165.169-84.544-22.409-76.298-62.83-139.698-114.488-37.789-30.789-92.638-53.5-106.885-99.138-12.309-39.393-3.044-82.222%2020.77-110.466%2053.556-63.52%20159.542-108.522%20260.374-12.465%20100.832%2096.056%20290.968-7.105%20297.046%20171.388z'%20fill='url(%23a)'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M629.602%20207.307v-51.154c0-28.251-22.902-51.153-51.154-51.153H322.681c-28.251%200-51.153%2022.902-51.153%2051.153v127.884'%20fill='%23fff'/%3e%3cpath%20d='M629.602%20207.307v-51.154c0-28.251-22.902-51.153-51.154-51.153H322.681c-28.251%200-51.153%2022.902-51.153%2051.153v127.884'%20stroke='%23E1E4E5'%20stroke-width='4.13'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M271.528%20216.252h165.353a25.578%2025.578%200%200%200%2021.28-11.382l35.884-53.941a25.575%2025.575%200%200%201%2021.357-11.407h114.2c28.251%200%2051.154%2022.902%2051.154%2051.153v255.767c0%2028.252-22.903%2051.154-51.154%2051.154H271.528c-28.251%200-51.154-22.902-51.154-51.154V267.405c0-28.251%2022.903-51.153%2051.154-51.153z'%20fill='%23fff'%20stroke='%23E1E4E5'%20stroke-width='4.13'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M320.022%20432.016v3.968h3.964A3.028%203.028%200%200%201%20327%20439a3.028%203.028%200%200%201-3.014%203.016h-3.964v3.968a3.028%203.028%200%200%201-3.014%203.016%203.029%203.029%200%200%201-3.014-3.016v-3.951h-3.98a3.029%203.029%200%200%201-3.014-3.017%203.029%203.029%200%200%201%203.014-3.016h3.964v-3.984a3.031%203.031%200%200%201%203.03-3.016%203.028%203.028%200%200%201%203.014%203.016zm-33.14-27.793v5.554h5.748c2.399%200%204.37%201.905%204.37%204.223%200%202.318-1.971%204.223-4.37%204.223h-5.748v5.554c0%202.318-1.971%204.223-4.37%204.223s-4.37-1.905-4.37-4.223v-5.531h-5.772c-2.399%200-4.37-1.905-4.37-4.223%200-2.318%201.971-4.223%204.37-4.223h5.748v-5.577c0-2.318%201.971-4.223%204.394-4.223%202.399%200%204.37%201.905%204.37%204.223z'%20fill='%23E1E4E5'/%3e%3ccircle%20cx='451.101'%20cy='358.294'%20r='98.899'%20fill='%23aaa'/%3e%3crect%20x='444.142'%20y='322.427'%20width='13.918'%20height='71.734'%20rx='6.959'%20fill='%23fff'/%3e%3crect%20x='486.968'%20y='351.335'%20width='13.918'%20height='71.734'%20rx='6.959'%20transform='rotate(90%20486.968%20351.335)'%20fill='%23fff'/%3e%3cellipse%20rx='13.917'%20ry='13.254'%20transform='matrix(-1%200%200%201%20718.227%20479.149)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='4.639'%20transform='matrix(-1%200%200%201%20292.465%20519.783)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='6.627'%20transform='matrix(-1%200%200%201%20566.399%20205.929)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='6.476'%20transform='scale(1%20-1)%20rotate(-75%20-180.786%20-314.12)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='8.615'%20transform='matrix(-1%200%200%201%20217.158%20114.719)'%20fill='%23E1E4E5'/%3e%3cellipse%20rx='6.627'%20ry='5.302'%20transform='matrix(-1%200%200%201%20704.513%20233.511)'%20fill='%23E1E4E5'/%3e%3cpath%20d='M186.177%20456.259h.174c1.026%2014.545%2011.844%2014.769%2011.844%2014.769s-11.929.233-11.929%2017.04c0-16.807-11.929-17.04-11.929-17.04s10.814-.224%2011.84-14.769zm574.334-165.951h.18c1.067%2015.36%2012.309%2015.596%2012.309%2015.596s-12.397.246-12.397%2017.994c0-17.748-12.396-17.994-12.396-17.994s11.237-.236%2012.304-15.596z'%20fill='%23E1E4E5'/%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='530.485'%20y1='779.032'%20x2='277.414'%20y2='-357.319'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23EEE'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";var i0=h('<tr class="h-12"><td><!></td><td class="flex gap-2 justify-end"><!> <!></td></tr>'),l0=h('<table class="w-full"><tbody></tbody></table>'),n0=h('<tr class="h-12"><td><!></td><td class="flex gap-2 justify-end"><!> <!></td></tr>'),d0=h('<table class="w-full"><tbody></tbody></table>'),c0=h('<div class="grid gap-4 grid-cols-1 lg:grid-cols-2 w-full"><!> <div class="flex flex-col lg:flex-row gap-4 col-span-full"><!> <!> <!></div> <!> <!></div> <!>',1),f0=h("<!> <!> <!>",1);function T0(w,u){z2(u,!0);const r=()=>B2(A2,"$t",F),[F,L]=j2(),S=u.data.statistics,[m2,u2]=K2(S.usage);let a=D2(F2(u.data.library));const v2=d=>{d.id===t(a).id&&S2(a,d,!0)},p2=async({id:d})=>{d===t(a).id&&await G2(V.libraries())},_=e(()=>J2(r(),t(a))),q=e(()=>t(_).Edit),J=e(()=>t(_).Delete),K=e(()=>t(_).AddFolder),N=e(()=>t(_).AddExclusionPattern),Q=e(()=>t(_).Scan);var X=f0(),Y=B(X);R2(Y,{onLibraryUpdate:v2,onLibraryDelete:p2});var Z=o(Y,2);{let d=e(()=>r()("library")),H=e(()=>[t(q),t(J),t(K),t(N),t(Q)]);t0(Z,{get name(){return t(d)},get actions(){return t(H)}})}var g2=o(Z,2);{let d=e(()=>[{title:r()("external_libraries"),href:V.libraries()},{title:t(a).name}]),H=e(()=>[t(Q),t(q),t(J)]);T2(g2,{get breadcrumbs(){return t(d)},get actions(){return t(H)},children:(h2,m0)=>{e0(h2,{size:"large",center:!0,children:(_2,u0)=>{var t2=c0(),O=B(t2),e2=l(O);r0(e2,{tag:"h1",size:"large",class:"col-span-full my-4",children:(i,P)=>{T();var A=W();G(()=>R(A,t(a).name)),n(i,A)},$$slots:{default:!0}});var k=o(e2,2),r2=l(k);{let i=e(()=>r()("photos"));I(r2,{get icon(){return N2},get title(){return t(i)},get value(){return S.photos}})}var a2=o(r2,2);{let i=e(()=>r()("videos"));I(a2,{get icon(){return Q2},get title(){return t(i)},get value(){return S.videos}})}var $2=o(a2,2);{let i=e(()=>r()("usage"));I($2,{get icon(){return X2},get title(){return t(i)},get value(){return m2},get unit(){return u2}})}s(k);var o2=o(k,2);{let i=e(()=>r()("folders"));c2(o2,{get icon(){return Y2},get title(){return t(i)},get headerAction(){return t(K)},children:(P,A)=>{var v=k2(),C=B(v);{var $=c=>{{let p=e(()=>r()("admin.library_folder_description"));W2(c,{get src(){return s0},get text(){return t(p)},fullWidth:!0,onClick:()=>a0.show(I2,{library:t(a)})})}},M=c=>{var p=l0(),E=l(p);d2(E,20,()=>t(a).importPaths,f=>f,(f,g,s2,U)=>{const y=e(()=>{const{Edit:j,Delete:l2}=V2(r(),t(a),g);return{Edit:j,Delete:l2}});var b=i0(),m=l(b),z=l(m);f2(z,{children:(j,l2)=>{T();var n2=W();G(()=>R(n2,g)),n(j,n2)},$$slots:{default:!0}}),s(m);var x=o(m),i2=l(x);D(i2,{get action(){return t(y).Edit}});var b2=o(i2,2);D(b2,{get action(){return t(y).Delete}}),s(x),s(b),n(f,b)}),s(E),s(p),n(c,p)};U2(C,c=>{t(a).importPaths.length===0?c($):c(M,!1)})}n(P,v)}})}var E2=o(o2,2);{let i=e(()=>r()("exclusion_pattern"));c2(E2,{get icon(){return Z2},get title(){return t(i)},get headerAction(){return t(N)},children:(P,A)=>{var v=d0(),C=l(v);d2(C,20,()=>t(a).exclusionPatterns,$=>$,($,M,c,p)=>{const E=e(()=>{const{Edit:m,Delete:z}=q2(r(),t(a),M);return{Edit:m,Delete:z}});var f=n0(),g=l(f),s2=l(g);f2(s2,{children:(m,z)=>{T();var x=W();G(()=>R(x,M)),n(m,x)},$$slots:{default:!0}}),s(g);var U=o(g),y=l(U);D(y,{get action(){return t(E).Edit}});var b=o(y,2);D(b,{get action(){return t(E).Delete}}),s(U),s(f),n($,f)}),s(C),s(v),n(P,v)}})}s(O);var y2=o(O,2);O2(y2,()=>u.children??H2),n(_2,t2)},$$slots:{default:!0}})},$$slots:{default:!0}})}n(w,X),L2(),L()}export{T0 as component,G0 as universal};
